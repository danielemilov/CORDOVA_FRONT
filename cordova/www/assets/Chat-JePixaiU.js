import{r as l,f as Ce,j as E,I as Vi,g as at,m as Me,A as or,h as st,i as ke,k as Qt,u as er,_ as Xe,l as Kn,n as kr,o as Gi,R as pt,p as qi,q as Xn,s as ir,t as Yi,v as xe,w as jr,x as Zn,y as Jn,z as Qn,C as Ee,E as eo,P as Ki,G as Xi,H as Zi,J as Ji,K as me,L as Qi,d as ge,M as ea,N as ta,O as qe,Q as ra,T as na,V as oa,W as ln,X as ia,Y as aa,Z as sa,$ as ua,a0 as ca}from"./index-BmB6lFxD.js";import{p as dn,i as la,f as kt,a as da,b as fa,c as pa}from"./parseISO-4zpO-cv8.js";function _r(e){const{viewBox:t="0 0 24 24",d:r,displayName:n,defaultProps:o={}}=e,a=l.Children.toArray(e.path),s=Ce((u,f)=>E.jsx(Vi,{ref:f,viewBox:t,...o,...u,children:a.length?a:E.jsx("path",{fill:"currentColor",d:r})}));return s.displayName=n,s}var va=Object.defineProperty,ha=(e,t,r)=>t in e?va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,be=(e,t,r)=>(ha(e,typeof t!="symbol"?t+"":t,r),r);function fn(e){return e.sort((t,r)=>{const n=t.compareDocumentPosition(r);if(n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(n&Node.DOCUMENT_POSITION_DISCONNECTED||n&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var ma=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function pn(e,t,r){let n=e+1;return r&&n>=t&&(n=0),n}function vn(e,t,r){let n=e-1;return r&&n<0&&(n=t),n}var Er=typeof window<"u"?l.useLayoutEffect:l.useEffect,tr=e=>e,ga=class{constructor(){be(this,"descendants",new Map),be(this,"register",e=>{if(e!=null)return ma(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),be(this,"unregister",e=>{this.descendants.delete(e);const t=fn(Array.from(this.descendants.keys()));this.assignIndex(t)}),be(this,"destroy",()=>{this.descendants.clear()}),be(this,"assignIndex",e=>{this.descendants.forEach(t=>{const r=e.indexOf(t.node);t.index=r,t.node.dataset.index=t.index.toString()})}),be(this,"count",()=>this.descendants.size),be(this,"enabledCount",()=>this.enabledValues().length),be(this,"values",()=>Array.from(this.descendants.values()).sort((t,r)=>t.index-r.index)),be(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),be(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),be(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),be(this,"first",()=>this.item(0)),be(this,"firstEnabled",()=>this.enabledItem(0)),be(this,"last",()=>this.item(this.descendants.size-1)),be(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),be(this,"indexOf",e=>{var t,r;return e&&(r=(t=this.descendants.get(e))==null?void 0:t.index)!=null?r:-1}),be(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),be(this,"next",(e,t=!0)=>{const r=pn(e,this.count(),t);return this.item(r)}),be(this,"nextEnabled",(e,t=!0)=>{const r=this.item(e);if(!r)return;const n=this.enabledIndexOf(r.node),o=pn(n,this.enabledCount(),t);return this.enabledItem(o)}),be(this,"prev",(e,t=!0)=>{const r=vn(e,this.count()-1,t);return this.item(r)}),be(this,"prevEnabled",(e,t=!0)=>{const r=this.item(e);if(!r)return;const n=this.enabledIndexOf(r.node),o=vn(n,this.enabledCount()-1,t);return this.enabledItem(o)}),be(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const r=Array.from(this.descendants.keys()).concat(e),n=fn(r);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const o={node:e,index:-1,...t};this.descendants.set(e,o),this.assignIndex(n)})}};function ba(){const e=l.useRef(new ga);return Er(()=>()=>e.current.destroy()),e.current}var[ya,to]=at({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function wa(e){const t=to(),[r,n]=l.useState(-1),o=l.useRef(null);Er(()=>()=>{o.current&&t.unregister(o.current)},[]),Er(()=>{if(!o.current)return;const s=Number(o.current.dataset.index);r!=s&&!Number.isNaN(s)&&n(s)});const a=tr(e?t.register(e):t.register);return{descendants:t,index:r,enabledIndex:t.enabledIndexOf(o.current),register:Me(a,o)}}function xa(){return[tr(ya),()=>tr(to()),()=>ba(),o=>wa(o)]}var hn={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},Qe={enter:{duration:.2,ease:hn.easeOut},exit:{duration:.1,ease:hn.easeIn}},et={enter:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.enter}),exit:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.exit})},Ca={enter:({transition:e,transitionEnd:t,delay:r}={})=>{var n;return{opacity:1,transition:(n=e==null?void 0:e.enter)!=null?n:et.enter(Qe.enter,r),transitionEnd:t==null?void 0:t.enter}},exit:({transition:e,transitionEnd:t,delay:r}={})=>{var n;return{opacity:0,transition:(n=e==null?void 0:e.exit)!=null?n:et.exit(Qe.exit,r),transitionEnd:t==null?void 0:t.exit}}},ro={initial:"exit",animate:"enter",exit:"exit",variants:Ca},Ra=l.forwardRef(function(t,r){const{unmountOnExit:n,in:o,className:a,transition:s,transitionEnd:u,delay:f,...v}=t,d=o||n?"enter":"exit",h=n?o&&n:!0,C={transition:s,transitionEnd:u,delay:f};return E.jsx(or,{custom:C,children:h&&E.jsx(st.div,{ref:r,className:ke("chakra-fade",a),custom:C,...ro,animate:d,...v})})});Ra.displayName="Fade";var Sa={exit:({reverse:e,initialScale:t,transition:r,transitionEnd:n,delay:o})=>{var a;return{opacity:0,...e?{scale:t,transitionEnd:n==null?void 0:n.exit}:{transitionEnd:{scale:t,...n==null?void 0:n.exit}},transition:(a=r==null?void 0:r.exit)!=null?a:et.exit(Qe.exit,o)}},enter:({transitionEnd:e,transition:t,delay:r})=>{var n;return{opacity:1,scale:1,transition:(n=t==null?void 0:t.enter)!=null?n:et.enter(Qe.enter,r),transitionEnd:e==null?void 0:e.enter}}},no={initial:"exit",animate:"enter",exit:"exit",variants:Sa},ka=l.forwardRef(function(t,r){const{unmountOnExit:n,in:o,reverse:a=!0,initialScale:s=.95,className:u,transition:f,transitionEnd:v,delay:d,...h}=t,C=n?o&&n:!0,S=o||n?"enter":"exit",T={initialScale:s,reverse:a,transition:f,transitionEnd:v,delay:d};return E.jsx(or,{custom:T,children:C&&E.jsx(st.div,{ref:r,className:ke("chakra-offset-slide",u),...no,animate:S,custom:T,...h})})});ka.displayName="ScaleFade";var Ea={initial:({offsetX:e,offsetY:t,transition:r,transitionEnd:n,delay:o})=>{var a;return{opacity:0,x:e,y:t,transition:(a=r==null?void 0:r.exit)!=null?a:et.exit(Qe.exit,o),transitionEnd:n==null?void 0:n.exit}},enter:({transition:e,transitionEnd:t,delay:r})=>{var n;return{opacity:1,x:0,y:0,transition:(n=e==null?void 0:e.enter)!=null?n:et.enter(Qe.enter,r),transitionEnd:t==null?void 0:t.enter}},exit:({offsetY:e,offsetX:t,transition:r,transitionEnd:n,reverse:o,delay:a})=>{var s;const u={x:t,y:e};return{opacity:0,transition:(s=r==null?void 0:r.exit)!=null?s:et.exit(Qe.exit,a),...o?{...u,transitionEnd:n==null?void 0:n.exit}:{transitionEnd:{...u,...n==null?void 0:n.exit}}}}},Mt={initial:"initial",animate:"enter",exit:"exit",variants:Ea},Ta=l.forwardRef(function(t,r){const{unmountOnExit:n,in:o,reverse:a=!0,className:s,offsetX:u=0,offsetY:f=8,transition:v,transitionEnd:d,delay:h,...C}=t,S=n?o&&n:!0,T=o||n?"enter":"exit",R={offsetX:u,offsetY:f,reverse:a,transition:v,transitionEnd:d,delay:h};return E.jsx(or,{custom:R,children:S&&E.jsx(st.div,{ref:r,className:ke("chakra-offset-slide",s),custom:R,...Mt,animate:T,...C})})});Ta.displayName="SlideFade";var Ke=Ce((e,t)=>{const{icon:r,children:n,isRound:o,"aria-label":a,...s}=e,u=r||n,f=l.isValidElement(u)?l.cloneElement(u,{"aria-hidden":!0,focusable:!1}):null;return E.jsx(Qt,{padding:"0",borderRadius:o?"full":void 0,ref:t,"aria-label":a,...s,children:f})});Ke.displayName="IconButton";function Ur(e,t,r,n){const o=er(r);return l.useEffect(()=>{const a=typeof e=="function"?e():e??document;if(!(!r||!a))return a.addEventListener(t,o,n),()=>{a.removeEventListener(t,o,n)}},[t,e,n,o,r]),()=>{const a=typeof e=="function"?e():e??document;a==null||a.removeEventListener(t,o,n)}}function Ma(e){return"current"in e}var oo=()=>typeof window<"u";function Oa(){var e;const t=navigator.userAgentData;return(e=t==null?void 0:t.platform)!=null?e:navigator.platform}var Aa=e=>oo()&&e.test(navigator.vendor),Pa=e=>oo()&&e.test(Oa()),Da=()=>Pa(/mac|iphone|ipad|ipod/i),La=()=>Da()&&Aa(/apple/i);function Ia(e){const{ref:t,elements:r,enabled:n}=e,o=()=>{var a,s;return(s=(a=t.current)==null?void 0:a.ownerDocument)!=null?s:document};Ur(o,"pointerdown",a=>{if(!La()||!n)return;const s=a.target,f=(r??[t]).some(v=>{const d=Ma(v)?v.current:v;return(d==null?void 0:d.contains(s))||d===s});o().activeElement!==s&&f&&(a.preventDefault(),s.focus())})}var Tr="data-focus-lock",io="data-focus-lock-disabled",Fa="data-no-focus-lock",Ba="data-autofocus-inside",Na="data-no-autofocus";function pr(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ja(e,t){var r=l.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var _a=typeof window<"u"?l.useLayoutEffect:l.useEffect,mn=new WeakMap;function ao(e,t){var r=ja(null,function(n){return e.forEach(function(o){return pr(o,n)})});return _a(function(){var n=mn.get(r);if(n){var o=new Set(n),a=new Set(e),s=r.current;o.forEach(function(u){a.has(u)||pr(u,null)}),a.forEach(function(u){o.has(u)||pr(u,s)})}mn.set(r,e)},[e]),r}var vr={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function so(e){return e}function uo(e,t){t===void 0&&(t=so);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var s=t(a,n);return r.push(s),function(){r=r.filter(function(u){return u!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(u){return a(u)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var u=r;r=[],u.forEach(a),s=r}var f=function(){var d=s;s=[],d.forEach(a)},v=function(){return Promise.resolve().then(f)};v(),r={push:function(d){s.push(d),v()},filter:function(d){return s=s.filter(d),r}}}};return o}function Wr(e,t){return t===void 0&&(t=so),uo(e,t)}function co(e){e===void 0&&(e={});var t=uo(null);return t.options=Xe({async:!0,ssr:!1},e),t}var lo=function(e){var t=e.sideCar,r=Kn(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return l.createElement(n,Xe({},r))};lo.isSideCarExport=!0;function Ua(e,t){return e.useMedium(t),lo}var fo=Wr({},function(e){var t=e.target,r=e.currentTarget;return{target:t,currentTarget:r}}),po=Wr(),Wa=Wr(),$a=co({async:!0,ssr:typeof document<"u"}),Ha=l.createContext(void 0),za=[],$r=l.forwardRef(function(t,r){var n,o=l.useState(),a=o[0],s=o[1],u=l.useRef(),f=l.useRef(!1),v=l.useRef(null),d=l.useState({}),h=d[1],C=t.children,S=t.disabled,T=S===void 0?!1:S,R=t.noFocusGuards,k=R===void 0?!1:R,O=t.persistentFocus,I=O===void 0?!1:O,_=t.crossFrame,M=_===void 0?!0:_,V=t.autoFocus,G=V===void 0?!0:V;t.allowTextSelection;var Y=t.group,ee=t.className,K=t.whiteList,X=t.hasPositiveIndices,ne=t.shards,de=ne===void 0?za:ne,se=t.as,ce=se===void 0?"div":se,ve=t.lockProps,le=ve===void 0?{}:ve,j=t.sideCar,oe=t.returnFocus,fe=oe===void 0?!1:oe,p=t.focusOptions,i=t.onActivation,c=t.onDeactivation,y=l.useState({}),w=y[0],x=l.useCallback(function(Q){var b=Q.captureFocusRestore;if(!v.current){var B,Z=(B=document)==null?void 0:B.activeElement;v.current=Z,Z!==document.body&&(v.current=b(Z))}u.current&&i&&i(u.current),f.current=!0,h()},[i]),P=l.useCallback(function(){f.current=!1,c&&c(u.current),h()},[c]),g=l.useCallback(function(Q){var b=v.current;if(b){var B=(typeof b=="function"?b():b)||document.body,Z=typeof fe=="function"?fe(B):fe;if(Z){var m=typeof Z=="object"?Z:void 0;v.current=null,Q?Promise.resolve().then(function(){return B.focus(m)}):B.focus(m)}}},[fe]),L=l.useCallback(function(Q){f.current&&fo.useMedium(Q)},[]),U=po.useMedium,F=l.useCallback(function(Q){u.current!==Q&&(u.current=Q,s(Q))},[]),q=kr((n={},n[io]=T&&"disabled",n[Tr]=Y,n),le),W=k!==!0,z=W&&k!=="tail",N=ao([r,F]),H=l.useMemo(function(){return{observed:u,shards:de,enabled:!T,active:f.current}},[T,f.current,de,a]);return l.createElement(l.Fragment,null,W&&[l.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:T?-1:0,style:vr}),X?l.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:T?-1:1,style:vr}):null],!T&&l.createElement(j,{id:w,sideCar:$a,observed:a,disabled:T,persistentFocus:I,crossFrame:M,autoFocus:G,whiteList:K,shards:de,onActivation:x,onDeactivation:P,returnFocus:g,focusOptions:p,noFocusGuards:k}),l.createElement(ce,kr({ref:N},q,{className:ee,onBlur:U,onFocus:L}),l.createElement(Ha.Provider,{value:H},C)),z&&l.createElement("div",{"data-focus-guard":!0,tabIndex:T?-1:0,style:vr}))});$r.propTypes={};function Dt(e){"@babel/helpers - typeof";return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(e)}function Va(e,t){if(Dt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ga(e){var t=Va(e,"string");return Dt(t)=="symbol"?t:t+""}function qa(e,t,r){return(t=Ga(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ya(e,t){function r(n){return n.displayName||n.name||"Component"}return function(o){var a=[],s;function u(){s=e(a.map(function(v){return v.props})),t(s)}var f=function(v){Gi(d,v);function d(){return v.apply(this,arguments)||this}d.peek=function(){return s};var h=d.prototype;return h.componentDidMount=function(){a.push(this),u()},h.componentDidUpdate=function(){u()},h.componentWillUnmount=function(){var S=a.indexOf(this);a.splice(S,1),u()},h.render=function(){return pt.createElement(o,this.props)},d}(l.PureComponent);return qa(f,"displayName","SideEffect("+r(o)+")"),f}}var ze=function(e){for(var t=Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t},nt=function(e){return Array.isArray(e)?e:[e]},vo=function(e){return Array.isArray(e)?e[0]:e},Ka=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},ho=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},mo=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Xa=function(e){return e.hasAttribute("inert")},Za=function(e,t){return!e||mo(e)||!Ka(e)&&!Xa(e)&&t(ho(e))},go=function(e,t){var r=e.get(t);if(r!==void 0)return r;var n=Za(t,go.bind(void 0,e));return e.set(t,n),n},Ja=function(e,t){return e&&!mo(e)?ts(e)?t(ho(e)):!1:!0},bo=function(e,t){var r=e.get(t);if(r!==void 0)return r;var n=Ja(t,bo.bind(void 0,e));return e.set(t,n),n},yo=function(e){return e.dataset},Qa=function(e){return e.tagName==="BUTTON"},wo=function(e){return e.tagName==="INPUT"},xo=function(e){return wo(e)&&e.type==="radio"},es=function(e){return!((wo(e)||Qa(e))&&(e.type==="hidden"||e.disabled))},ts=function(e){var t=e.getAttribute(Na);return![!0,"true",""].includes(t)},Hr=function(e){var t;return!!(e&&(!((t=yo(e))===null||t===void 0)&&t.focusGuard))},Mr=function(e){return!Hr(e)},rs=function(e){return!!e},ns=function(e,t){var r=Math.max(0,e.tabIndex),n=Math.max(0,t.tabIndex),o=r-n,a=e.index-t.index;if(o){if(!r)return 1;if(!n)return-1}return o||a},os=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},zr=function(e,t,r){return ze(e).map(function(n,o){var a=os(n);return{node:n,index:o,tabIndex:r&&a===-1?(n.dataset||{}).focusGuard?0:-1:a}}).filter(function(n){return!t||n.tabIndex>=0}).sort(ns)},is=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],Vr=is.join(","),as="".concat(Vr,", [data-focus-guard]"),Co=function(e,t){return ze((e.shadowRoot||e).children).reduce(function(r,n){return r.concat(n.matches(t?as:Vr)?[n]:[],Co(n))},[])},ss=function(e,t){var r;return e instanceof HTMLIFrameElement&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?bt([e.contentDocument.body],t):[e]},bt=function(e,t){return e.reduce(function(r,n){var o,a=Co(n,t),s=(o=[]).concat.apply(o,a.map(function(u){return ss(u,t)}));return r.concat(s,n.parentNode?ze(n.parentNode.querySelectorAll(Vr)).filter(function(u){return u===n}):[])},[])},us=function(e){var t=e.querySelectorAll("[".concat(Ba,"]"));return ze(t).map(function(r){return bt([r])}).reduce(function(r,n){return r.concat(n)},[])},Gr=function(e,t){return ze(e).filter(function(r){return go(t,r)}).filter(function(r){return es(r)})},gn=function(e,t){return t===void 0&&(t=new Map),ze(e).filter(function(r){return bo(t,r)})},qr=function(e,t,r){return zr(Gr(bt(e,r),t),!0,r)},Lt=function(e,t){return zr(Gr(bt(e),t),!1)},cs=function(e,t){return Gr(us(e),t)},tt=function(e,t){return e.shadowRoot?tt(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:ze(e.children).some(function(r){var n;if(r instanceof HTMLIFrameElement){var o=(n=r.contentDocument)===null||n===void 0?void 0:n.body;return o?tt(o,t):!1}return tt(r,t)})},ls=function(e){for(var t=new Set,r=e.length,n=0;n<r;n+=1)for(var o=n+1;o<r;o+=1){var a=e[n].compareDocumentPosition(e[o]);(a&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(a&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(n)}return e.filter(function(s,u){return!t.has(u)})},Ro=function(e){return e.parentNode?Ro(e.parentNode):e},Yr=function(e){var t=nt(e);return t.filter(Boolean).reduce(function(r,n){var o=n.getAttribute(Tr);return r.push.apply(r,o?ls(ze(Ro(n).querySelectorAll("[".concat(Tr,'="').concat(o,'"]:not([').concat(io,'="disabled"])')))):[n]),r},[])},ds=function(e){try{return e()}catch{return}},It=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?It(t.shadowRoot):t instanceof HTMLIFrameElement&&ds(function(){return t.contentWindow.document})?It(t.contentWindow.document):t}},fs=function(e,t){return e===t},ps=function(e,t){return!!ze(e.querySelectorAll("iframe")).some(function(r){return fs(r,t)})},So=function(e,t){return t===void 0&&(t=It(vo(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:Yr(e).some(function(r){return tt(r,t)||ps(r,t)})},vs=function(e){e===void 0&&(e=document);var t=It(e);return t?ze(e.querySelectorAll("[".concat(Fa,"]"))).some(function(r){return tt(r,t)}):!1},hs=function(e,t){return t.filter(xo).filter(function(r){return r.name===e.name}).filter(function(r){return r.checked})[0]||e},Kr=function(e,t){return xo(e)&&e.name?hs(e,t):e},ms=function(e){var t=new Set;return e.forEach(function(r){return t.add(Kr(r,e))}),e.filter(function(r){return t.has(r)})},bn=function(e){return e[0]&&e.length>1?Kr(e[0],e):e[0]},yn=function(e,t){return e.indexOf(Kr(t,e))},Or="NEW_FOCUS",gs=function(e,t,r,n,o){var a=e.length,s=e[0],u=e[a-1],f=Hr(n);if(!(n&&e.indexOf(n)>=0)){var v=n!==void 0?r.indexOf(n):-1,d=o?r.indexOf(o):v,h=o?e.indexOf(o):-1;if(v===-1)return h!==-1?h:Or;if(h===-1)return Or;var C=v-d,S=r.indexOf(s),T=r.indexOf(u),R=ms(r),k=n!==void 0?R.indexOf(n):-1,O=k-(o?R.indexOf(o):v);if(!C&&h>=0||t.length===0)return h;var I=yn(e,t[0]),_=yn(e,t[t.length-1]);if(v<=S&&f&&Math.abs(C)>1)return _;if(v>=T&&f&&Math.abs(C)>1)return I;if(C&&Math.abs(O)>1)return h;if(v<=S)return _;if(v>T)return I;if(C)return Math.abs(C)>1?h:(a+h+C)%a}},bs=function(e){return function(t){var r,n=(r=yo(t))===null||r===void 0?void 0:r.autofocus;return t.autofocus||n!==void 0&&n!=="false"||e.indexOf(t)>=0}},wn=function(e,t,r){var n=e.map(function(a){var s=a.node;return s}),o=gn(n.filter(bs(r)));return o&&o.length?bn(o):bn(gn(t))},Ar=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&Ar(e.parentNode.host||e.parentNode,t),t},hr=function(e,t){for(var r=Ar(e),n=Ar(t),o=0;o<r.length;o+=1){var a=r[o];if(n.indexOf(a)>=0)return a}return!1},ko=function(e,t,r){var n=nt(e),o=nt(t),a=n[0],s=!1;return o.filter(Boolean).forEach(function(u){s=hr(s||u,u)||s,r.filter(Boolean).forEach(function(f){var v=hr(a,f);v&&(!s||tt(v,s)?s=v:s=hr(v,s))})}),s},xn=function(e,t){return e.reduce(function(r,n){return r.concat(cs(n,t))},[])},ys=function(e,t){var r=new Map;return t.forEach(function(n){return r.set(n.node,n)}),e.map(function(n){return r.get(n)}).filter(rs)},ws=function(e,t){var r=It(nt(e).length>0?document:vo(e).ownerDocument),n=Yr(e).filter(Mr),o=ko(r||e,e,n),a=new Map,s=Lt(n,a),u=s.filter(function(T){var R=T.node;return Mr(R)});if(u[0]){var f=Lt([o],a).map(function(T){var R=T.node;return R}),v=ys(f,u),d=v.map(function(T){var R=T.node;return R}),h=v.filter(function(T){var R=T.tabIndex;return R>=0}).map(function(T){var R=T.node;return R}),C=gs(d,h,f,r,t);if(C===Or){var S=wn(s,h,xn(n,a))||wn(s,d,xn(n,a));if(S)return{node:S};console.warn("focus-lock: cannot find any node to move focus into");return}return C===void 0?C:v[C]}},xs=function(e){var t=Yr(e).filter(Mr),r=ko(e,e,t),n=zr(bt([r],!0),!0,!0),o=bt(t,!1);return n.map(function(a){var s=a.node,u=a.index;return{node:s,index:u,lockItem:o.indexOf(s)>=0,guard:Hr(s)}})},Xr=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},mr=0,gr=!1,Eo=function(e,t,r){r===void 0&&(r={});var n=ws(e,t);if(!gr&&n){if(mr>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),gr=!0,setTimeout(function(){gr=!1},1);return}mr++,Xr(n.node,r.focusOptions),mr--}};function Et(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(t==null?void 0:t.deref())||null}}var Cs=function(e){if(!e)return null;for(var t=[],r=e;r&&r!==document.body;)t.push({current:Et(r),parent:Et(r.parentElement),left:Et(r.previousElementSibling),right:Et(r.nextElementSibling)}),r=r.parentElement;return{element:Et(e),stack:t,ownerDocument:e.ownerDocument}},Rs=function(e){var t,r,n,o,a;if(e)for(var s=e.stack,u=e.ownerDocument,f=new Map,v=0,d=s;v<d.length;v++){var h=d[v],C=(t=h.parent)===null||t===void 0?void 0:t.call(h);if(C&&u.contains(C)){for(var S=(r=h.left)===null||r===void 0?void 0:r.call(h),T=h.current(),R=C.contains(T)?T:void 0,k=(n=h.right)===null||n===void 0?void 0:n.call(h),O=qr([C],f),I=(a=(o=R??(S==null?void 0:S.nextElementSibling))!==null&&o!==void 0?o:k)!==null&&a!==void 0?a:S;I;){for(var _=0,M=O;_<M.length;_++){var V=M[_];if(I!=null&&I.contains(V.node))return V.node}I=I.nextElementSibling}if(O.length)return O[0].node}}},To=function(e){var t=Cs(e);return function(){return Rs(t)}},Ss=function(e,t,r){if(!e||!t)return console.error("no element or scope given"),{};var n=nt(t);if(n.every(function(s){return!tt(s,e)}))return console.error("Active element is not contained in the scope"),{};var o=r?qr(n,new Map):Lt(n,new Map),a=o.findIndex(function(s){var u=s.node;return u===e});if(a!==-1)return{prev:o[a-1],next:o[a+1],first:o[0],last:o[o.length-1]}},ks=function(e,t){var r=t?qr(nt(e),new Map):Lt(nt(e),new Map);return{first:r[0],last:r[r.length-1]}},Es=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},Mo=function(e,t,r){t===void 0&&(t={});var n=Es(t),o=Ss(e,n.scope,n.onlyTabbable);if(o){var a=r(o,n.cycle);a&&Xr(a.node,n.focusOptions)}},Ts=function(e,t){t===void 0&&(t={}),Mo(e,t,function(r,n){var o=r.next,a=r.first;return o||n&&a})},Ms=function(e,t){t===void 0&&(t={}),Mo(e,t,function(r,n){var o=r.prev,a=r.last;return o||n&&a})},Oo=function(e,t,r){var n,o=ks(e,(n=t.onlyTabbable)!==null&&n!==void 0?n:!0),a=o[r];a&&Xr(a.node,t.focusOptions)},Os=function(e,t){t===void 0&&(t={}),Oo(e,t,"first")},As=function(e,t){t===void 0&&(t={}),Oo(e,t,"last")};function Zr(e){setTimeout(e,1)}var Ps=function(t){return t&&"current"in t?t.current:t},Ao=function(){return document&&document.activeElement===document.body},Ds=function(){return Ao()||vs()},vt=null,De=null,Cn=function(){return null},ht=null,Ft=!1,Jr=!1,Ls=function(){return!0},Is=function(t){return(vt.whiteList||Ls)(t)},Fs=function(t,r){ht={observerNode:t,portaledElement:r}},Bs=function(t){return ht&&ht.portaledElement===t};function Rn(e,t,r,n){var o=null,a=e;do{var s=n[a];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(a!==e)return;o=null}else break}while((a+=r)!==t);o&&(o.node.tabIndex=0)}var Ns=function(t){return t?!!Ft:Ft==="meanwhile"},js=function e(t,r,n){return r&&(r.host===t&&(!r.activeElement||n.contains(r.activeElement))||r.parentNode&&e(t,r.parentNode,n))},_s=function(t,r){return r.some(function(n){return js(t,n,n)})},Po=function(t){return Lt(t,new Map)},Us=function(t){return!Po([t.parentNode]).some(function(r){return r.node===t})},rr=function(){var t=!1;if(vt){var r=vt,n=r.observed,o=r.persistentFocus,a=r.autoFocus,s=r.shards,u=r.crossFrame,f=r.focusOptions,v=r.noFocusGuards,d=n||ht&&ht.portaledElement;if(Ao()&&De&&(!document.body.contains(De)||Us(De))){De=null;var h=Cn();h&&h.focus()}var C=document&&document.activeElement;if(d){var S=[d].concat(s.map(Ps).filter(Boolean)),T=function(){if(!Ns(u)||!v||!De||Jr)return!1;var _=Po(S),M=_.findIndex(function(V){var G=V.node;return G===De});return M===0||M===_.length-1};if((!C||Is(C))&&(o||T()||!Ds()||!De&&a)&&(d&&!(So(S)||C&&_s(C,S)||Bs(C))&&(document&&!De&&C&&!a?(C.blur&&C.blur(),document.body.focus()):(t=Eo(S,De,{focusOptions:f}),ht={})),Ft=!1,De=document&&document.activeElement,Cn=To(De)),document&&C!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var R=document&&document.activeElement,k=xs(S),O=k.map(function(I){var _=I.node;return _}).indexOf(R);O>-1&&(k.filter(function(I){var _=I.guard,M=I.node;return _&&M.dataset.focusAutoGuard}).forEach(function(I){var _=I.node;return _.removeAttribute("tabIndex")}),Rn(O,k.length,1,k),Rn(O,-1,-1,k))}}}return t},Do=function(t){rr()&&t&&(t.stopPropagation(),t.preventDefault())},Qr=function(){return Zr(rr)},Ws=function(t){var r=t.target,n=t.currentTarget;n.contains(r)||Fs(n,r)},$s=function(){return null},Lo=function(){Jr=!0},Io=function(){Jr=!1,Ft="just",Zr(function(){Ft="meanwhile"})},Hs=function(){document.addEventListener("focusin",Do),document.addEventListener("focusout",Qr),window.addEventListener("focus",Lo),window.addEventListener("blur",Io)},zs=function(){document.removeEventListener("focusin",Do),document.removeEventListener("focusout",Qr),window.removeEventListener("focus",Lo),window.removeEventListener("blur",Io)};function Vs(e){return e.filter(function(t){var r=t.disabled;return!r})}var Fo={moveFocusInside:Eo,focusInside:So,focusNextElement:Ts,focusPrevElement:Ms,focusFirstElement:Os,focusLastElement:As,captureFocusRestore:To};function Gs(e){var t=e.slice(-1)[0];t&&!vt&&Hs();var r=vt,n=r&&t&&t.id===r.id;vt=t,r&&!n&&(r.onDeactivation(),e.filter(function(o){var a=o.id;return a===r.id}).length||r.returnFocus(!t)),t?(De=null,(!n||r.observed!==t.observed)&&t.onActivation(Fo),rr(),Zr(rr)):(zs(),De=null)}fo.assignSyncMedium(Ws);po.assignMedium(Qr);Wa.assignMedium(function(e){return e(Fo)});const qs=Ya(Vs,Gs)($s);var Pr=l.forwardRef(function(t,r){return l.createElement($r,kr({sideCar:qs,ref:r},t))}),Bo=$r.propTypes||{};Bo.sideCar;qi(Bo,["sideCar"]);Pr.propTypes={};function No(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function jo(e){var t;if(!No(e))return!1;const r=(t=e.ownerDocument.defaultView)!=null?t:window;return e instanceof r.HTMLElement}function Ys(e){var t,r;return(r=(t=_o(e))==null?void 0:t.defaultView)!=null?r:window}function _o(e){return No(e)?e.ownerDocument:document}function Ks(e){return _o(e).activeElement}var Uo=e=>e.hasAttribute("tabindex"),Xs=e=>Uo(e)&&e.tabIndex===-1;function Zs(e){return!!e.getAttribute("disabled")||!!e.getAttribute("aria-disabled")}function Wo(e){return e.parentElement&&Wo(e.parentElement)?!0:e.hidden}function Js(e){const t=e.getAttribute("contenteditable");return t!=="false"&&t!=null}function $o(e){if(!jo(e)||Wo(e)||Zs(e))return!1;const{localName:t}=e;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;const n={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return t in n?n[t]():Js(e)?!0:Uo(e)}function Qs(e){return e?jo(e)&&$o(e)&&!Xs(e):!1}var eu=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],tu=eu.join(),ru=e=>e.offsetWidth>0&&e.offsetHeight>0;function Ho(e){const t=Array.from(e.querySelectorAll(tu));return t.unshift(e),t.filter(r=>$o(r)&&ru(r))}var Sn,nu=(Sn=Pr.default)!=null?Sn:Pr,zo=e=>{const{initialFocusRef:t,finalFocusRef:r,contentRef:n,restoreFocus:o,children:a,isDisabled:s,autoFocus:u,persistentFocus:f,lockFocusAcrossFrames:v}=e,d=l.useCallback(()=>{t!=null&&t.current?t.current.focus():n!=null&&n.current&&Ho(n.current).length===0&&requestAnimationFrame(()=>{var T;(T=n.current)==null||T.focus()})},[t,n]),h=l.useCallback(()=>{var S;(S=r==null?void 0:r.current)==null||S.focus()},[r]),C=o&&!r;return E.jsx(nu,{crossFrame:v,persistentFocus:f,autoFocus:u,disabled:s,onActivation:d,onDeactivation:h,returnFocus:C,children:a})};zo.displayName="FocusLock";function ou(e){const{key:t}=e;return t.length===1||t.length>1&&/[^a-zA-Z0-9]/.test(t)}function iu(e={}){const{timeout:t=300,preventDefault:r=()=>!0}=e,[n,o]=l.useState([]),a=l.useRef(),s=()=>{a.current&&(clearTimeout(a.current),a.current=null)},u=()=>{s(),a.current=setTimeout(()=>{o([]),a.current=null},t)};l.useEffect(()=>s,[]);function f(v){return d=>{if(d.key==="Backspace"){const h=[...n];h.pop(),o(h);return}if(ou(d)){const h=n.concat(d.key);r(d)&&(d.preventDefault(),d.stopPropagation()),o(h),v(h.join("")),u()}}}return f}function au(e,t,r,n){if(t==null)return n;if(!n)return e.find(s=>r(s).toLowerCase().startsWith(t.toLowerCase()));const o=e.filter(a=>r(a).toLowerCase().startsWith(t.toLowerCase()));if(o.length>0){let a;return o.includes(n)?(a=o.indexOf(n)+1,a===o.length&&(a=0),o[a]):(a=e.indexOf(o[0]),e[a])}return n}function su(){const e=l.useRef(new Map),t=e.current,r=l.useCallback((o,a,s,u)=>{e.current.set(s,{type:a,el:o,options:u}),o.addEventListener(a,s,u)},[]),n=l.useCallback((o,a,s,u)=>{o.removeEventListener(a,s,u),e.current.delete(s)},[]);return l.useEffect(()=>()=>{t.forEach((o,a)=>{n(o.el,o.type,a,o.options)})},[n,t]),{add:r,remove:n}}function br(e){const t=e.target,{tagName:r,isContentEditable:n}=t;return r!=="INPUT"&&r!=="TEXTAREA"&&n!==!0}function uu(e={}){const{ref:t,isDisabled:r,isFocusable:n,clickOnEnter:o=!0,clickOnSpace:a=!0,onMouseDown:s,onMouseUp:u,onClick:f,onKeyDown:v,onKeyUp:d,tabIndex:h,onMouseOver:C,onMouseLeave:S,...T}=e,[R,k]=l.useState(!0),[O,I]=l.useState(!1),_=su(),M=j=>{j&&j.tagName!=="BUTTON"&&k(!1)},V=R?h:h||0,G=r&&!n,Y=l.useCallback(j=>{if(r){j.stopPropagation(),j.preventDefault();return}j.currentTarget.focus(),f==null||f(j)},[r,f]),ee=l.useCallback(j=>{O&&br(j)&&(j.preventDefault(),j.stopPropagation(),I(!1),_.remove(document,"keyup",ee,!1))},[O,_]),K=l.useCallback(j=>{if(v==null||v(j),r||j.defaultPrevented||j.metaKey||!br(j.nativeEvent)||R)return;const oe=o&&j.key==="Enter";a&&j.key===" "&&(j.preventDefault(),I(!0)),oe&&(j.preventDefault(),j.currentTarget.click()),_.add(document,"keyup",ee,!1)},[r,R,v,o,a,_,ee]),X=l.useCallback(j=>{if(d==null||d(j),r||j.defaultPrevented||j.metaKey||!br(j.nativeEvent)||R)return;a&&j.key===" "&&(j.preventDefault(),I(!1),j.currentTarget.click())},[a,R,r,d]),ne=l.useCallback(j=>{j.button===0&&(I(!1),_.remove(document,"mouseup",ne,!1))},[_]),de=l.useCallback(j=>{if(j.button!==0)return;if(r){j.stopPropagation(),j.preventDefault();return}R||I(!0),j.currentTarget.focus({preventScroll:!0}),_.add(document,"mouseup",ne,!1),s==null||s(j)},[r,R,s,_,ne]),se=l.useCallback(j=>{j.button===0&&(R||I(!1),u==null||u(j))},[u,R]),ce=l.useCallback(j=>{if(r){j.preventDefault();return}C==null||C(j)},[r,C]),ve=l.useCallback(j=>{O&&(j.preventDefault(),I(!1)),S==null||S(j)},[O,S]),le=Me(t,M);return R?{...T,ref:le,type:"button","aria-disabled":G?void 0:r,disabled:G,onClick:Y,onMouseDown:s,onMouseUp:u,onKeyUp:d,onKeyDown:v,onMouseOver:C,onMouseLeave:S}:{...T,ref:le,role:"button","data-active":Xn(O),"aria-disabled":r?"true":void 0,tabIndex:G?void 0:V,onClick:Y,onMouseDown:de,onMouseUp:se,onKeyUp:X,onKeyDown:K,onMouseOver:ce,onMouseLeave:ve}}function cu(e){const t=e.current;if(!t)return!1;const r=Ks(t);return!r||t.contains(r)?!1:!!Qs(r)}function Vo(e,t){const{shouldFocus:r,visible:n,focusRef:o}=t,a=r&&!n;ir(()=>{if(!a||cu(e))return;const s=(o==null?void 0:o.current)||e.current;let u;if(s)return u=requestAnimationFrame(()=>{s.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(u)}},[a,e,o])}var lu={preventScroll:!0,shouldFocus:!1};function du(e,t=lu){const{focusRef:r,preventScroll:n,shouldFocus:o,visible:a}=t,s=fu(e)?e.current:e,u=o&&a,f=l.useRef(u),v=l.useRef(a);Yi(()=>{!v.current&&a&&(f.current=u),v.current=a},[a,u]);const d=l.useCallback(()=>{if(!(!a||!s||!f.current)&&(f.current=!1,!s.contains(document.activeElement)))if(r!=null&&r.current)requestAnimationFrame(()=>{var h;(h=r.current)==null||h.focus({preventScroll:n})});else{const h=Ho(s);h.length>0&&requestAnimationFrame(()=>{h[0].focus({preventScroll:n})})}},[a,n,s,r]);ir(()=>{d()},[d]),Ur(s,"transitionend",d)}function fu(e){return"current"in e}var ut=(e,t)=>({var:e,varRef:t?`var(${e}, ${t})`:`var(${e})`}),Se={arrowShadowColor:ut("--popper-arrow-shadow-color"),arrowSize:ut("--popper-arrow-size","8px"),arrowSizeHalf:ut("--popper-arrow-size-half"),arrowBg:ut("--popper-arrow-bg"),transformOrigin:ut("--popper-transform-origin"),arrowOffset:ut("--popper-arrow-offset")};function pu(e){if(e.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}var vu={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},hu=e=>vu[e],kn={scroll:!0,resize:!0};function mu(e){let t;return typeof e=="object"?t={enabled:!0,options:{...kn,...e}}:t={enabled:e,options:kn},t}var gu={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:e})=>{e.styles.popper.width=`${e.rects.reference.width}px`},effect:({state:e})=>()=>{const t=e.elements.reference;e.elements.popper.style.width=`${t.offsetWidth}px`}},bu={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:e})=>{En(e)},effect:({state:e})=>()=>{En(e)}},En=e=>{e.elements.popper.style.setProperty(Se.transformOrigin.var,hu(e.placement))},yu={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:e})=>{wu(e)}},wu=e=>{var t;if(!e.placement)return;const r=xu(e.placement);if((t=e.elements)!=null&&t.arrow&&r){Object.assign(e.elements.arrow.style,{[r.property]:r.value,width:Se.arrowSize.varRef,height:Se.arrowSize.varRef,zIndex:-1});const n={[Se.arrowSizeHalf.var]:`calc(${Se.arrowSize.varRef} / 2 - 1px)`,[Se.arrowOffset.var]:`calc(${Se.arrowSizeHalf.varRef} * -1)`};for(const o in n)e.elements.arrow.style.setProperty(o,n[o])}},xu=e=>{if(e.startsWith("top"))return{property:"bottom",value:Se.arrowOffset.varRef};if(e.startsWith("bottom"))return{property:"top",value:Se.arrowOffset.varRef};if(e.startsWith("left"))return{property:"right",value:Se.arrowOffset.varRef};if(e.startsWith("right"))return{property:"left",value:Se.arrowOffset.varRef}},Cu={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:e})=>{Tn(e)},effect:({state:e})=>()=>{Tn(e)}},Tn=e=>{if(!e.elements.arrow)return;const t=e.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!t)return;const r=pu(e.placement);r&&t.style.setProperty("--popper-arrow-default-shadow",r),Object.assign(t.style,{transform:"rotate(45deg)",background:Se.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},Ru={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},Su={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function ku(e,t="ltr"){var r,n;const o=((r=Ru[e])==null?void 0:r[t])||e;return t==="ltr"?o:(n=Su[e])!=null?n:o}var Oe="top",je="bottom",_e="right",Ae="left",en="auto",jt=[Oe,je,_e,Ae],yt="start",Bt="end",Eu="clippingParents",Go="viewport",Tt="popper",Tu="reference",Mn=jt.reduce(function(e,t){return e.concat([t+"-"+yt,t+"-"+Bt])},[]),qo=[].concat(jt,[en]).reduce(function(e,t){return e.concat([t,t+"-"+yt,t+"-"+Bt])},[]),Mu="beforeRead",Ou="read",Au="afterRead",Pu="beforeMain",Du="main",Lu="afterMain",Iu="beforeWrite",Fu="write",Bu="afterWrite",Nu=[Mu,Ou,Au,Pu,Du,Lu,Iu,Fu,Bu];function He(e){return e?(e.nodeName||"").toLowerCase():null}function Le(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ot(e){var t=Le(e).Element;return e instanceof t||e instanceof Element}function Ne(e){var t=Le(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function tn(e){if(typeof ShadowRoot>"u")return!1;var t=Le(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ju(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},o=t.attributes[r]||{},a=t.elements[r];!Ne(a)||!He(a)||(Object.assign(a.style,n),Object.keys(o).forEach(function(s){var u=o[s];u===!1?a.removeAttribute(s):a.setAttribute(s,u===!0?"":u)}))})}function _u(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var o=t.elements[n],a=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),u=s.reduce(function(f,v){return f[v]="",f},{});!Ne(o)||!He(o)||(Object.assign(o.style,u),Object.keys(a).forEach(function(f){o.removeAttribute(f)}))})}}const Uu={name:"applyStyles",enabled:!0,phase:"write",fn:ju,effect:_u,requires:["computeStyles"]};function $e(e){return e.split("-")[0]}var rt=Math.max,nr=Math.min,wt=Math.round;function Dr(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Yo(){return!/^((?!chrome|android).)*safari/i.test(Dr())}function xt(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),o=1,a=1;t&&Ne(e)&&(o=e.offsetWidth>0&&wt(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&wt(n.height)/e.offsetHeight||1);var s=ot(e)?Le(e):window,u=s.visualViewport,f=!Yo()&&r,v=(n.left+(f&&u?u.offsetLeft:0))/o,d=(n.top+(f&&u?u.offsetTop:0))/a,h=n.width/o,C=n.height/a;return{width:h,height:C,top:d,right:v+h,bottom:d+C,left:v,x:v,y:d}}function rn(e){var t=xt(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Ko(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&tn(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ye(e){return Le(e).getComputedStyle(e)}function Wu(e){return["table","td","th"].indexOf(He(e))>=0}function Ze(e){return((ot(e)?e.ownerDocument:e.document)||window.document).documentElement}function ar(e){return He(e)==="html"?e:e.assignedSlot||e.parentNode||(tn(e)?e.host:null)||Ze(e)}function On(e){return!Ne(e)||Ye(e).position==="fixed"?null:e.offsetParent}function $u(e){var t=/firefox/i.test(Dr()),r=/Trident/i.test(Dr());if(r&&Ne(e)){var n=Ye(e);if(n.position==="fixed")return null}var o=ar(e);for(tn(o)&&(o=o.host);Ne(o)&&["html","body"].indexOf(He(o))<0;){var a=Ye(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function _t(e){for(var t=Le(e),r=On(e);r&&Wu(r)&&Ye(r).position==="static";)r=On(r);return r&&(He(r)==="html"||He(r)==="body"&&Ye(r).position==="static")?t:r||$u(e)||t}function nn(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ot(e,t,r){return rt(e,nr(t,r))}function Hu(e,t,r){var n=Ot(e,t,r);return n>r?r:n}function Xo(){return{top:0,right:0,bottom:0,left:0}}function Zo(e){return Object.assign({},Xo(),e)}function Jo(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var zu=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Zo(typeof t!="number"?t:Jo(t,jt))};function Vu(e){var t,r=e.state,n=e.name,o=e.options,a=r.elements.arrow,s=r.modifiersData.popperOffsets,u=$e(r.placement),f=nn(u),v=[Ae,_e].indexOf(u)>=0,d=v?"height":"width";if(!(!a||!s)){var h=zu(o.padding,r),C=rn(a),S=f==="y"?Oe:Ae,T=f==="y"?je:_e,R=r.rects.reference[d]+r.rects.reference[f]-s[f]-r.rects.popper[d],k=s[f]-r.rects.reference[f],O=_t(a),I=O?f==="y"?O.clientHeight||0:O.clientWidth||0:0,_=R/2-k/2,M=h[S],V=I-C[d]-h[T],G=I/2-C[d]/2+_,Y=Ot(M,G,V),ee=f;r.modifiersData[n]=(t={},t[ee]=Y,t.centerOffset=Y-G,t)}}function Gu(e){var t=e.state,r=e.options,n=r.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Ko(t.elements.popper,o)&&(t.elements.arrow=o))}const qu={name:"arrow",enabled:!0,phase:"main",fn:Vu,effect:Gu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ct(e){return e.split("-")[1]}var Yu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ku(e,t){var r=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:wt(r*o)/o||0,y:wt(n*o)/o||0}}function An(e){var t,r=e.popper,n=e.popperRect,o=e.placement,a=e.variation,s=e.offsets,u=e.position,f=e.gpuAcceleration,v=e.adaptive,d=e.roundOffsets,h=e.isFixed,C=s.x,S=C===void 0?0:C,T=s.y,R=T===void 0?0:T,k=typeof d=="function"?d({x:S,y:R}):{x:S,y:R};S=k.x,R=k.y;var O=s.hasOwnProperty("x"),I=s.hasOwnProperty("y"),_=Ae,M=Oe,V=window;if(v){var G=_t(r),Y="clientHeight",ee="clientWidth";if(G===Le(r)&&(G=Ze(r),Ye(G).position!=="static"&&u==="absolute"&&(Y="scrollHeight",ee="scrollWidth")),G=G,o===Oe||(o===Ae||o===_e)&&a===Bt){M=je;var K=h&&G===V&&V.visualViewport?V.visualViewport.height:G[Y];R-=K-n.height,R*=f?1:-1}if(o===Ae||(o===Oe||o===je)&&a===Bt){_=_e;var X=h&&G===V&&V.visualViewport?V.visualViewport.width:G[ee];S-=X-n.width,S*=f?1:-1}}var ne=Object.assign({position:u},v&&Yu),de=d===!0?Ku({x:S,y:R},Le(r)):{x:S,y:R};if(S=de.x,R=de.y,f){var se;return Object.assign({},ne,(se={},se[M]=I?"0":"",se[_]=O?"0":"",se.transform=(V.devicePixelRatio||1)<=1?"translate("+S+"px, "+R+"px)":"translate3d("+S+"px, "+R+"px, 0)",se))}return Object.assign({},ne,(t={},t[M]=I?R+"px":"",t[_]=O?S+"px":"",t.transform="",t))}function Xu(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=n===void 0?!0:n,a=r.adaptive,s=a===void 0?!0:a,u=r.roundOffsets,f=u===void 0?!0:u,v={placement:$e(t.placement),variation:Ct(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,An(Object.assign({},v,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,An(Object.assign({},v,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Zu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Xu,data:{}};var Vt={passive:!0};function Ju(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,a=o===void 0?!0:o,s=n.resize,u=s===void 0?!0:s,f=Le(t.elements.popper),v=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&v.forEach(function(d){d.addEventListener("scroll",r.update,Vt)}),u&&f.addEventListener("resize",r.update,Vt),function(){a&&v.forEach(function(d){d.removeEventListener("scroll",r.update,Vt)}),u&&f.removeEventListener("resize",r.update,Vt)}}const Qu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ju,data:{}};var ec={left:"right",right:"left",bottom:"top",top:"bottom"};function Xt(e){return e.replace(/left|right|bottom|top/g,function(t){return ec[t]})}var tc={start:"end",end:"start"};function Pn(e){return e.replace(/start|end/g,function(t){return tc[t]})}function on(e){var t=Le(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function an(e){return xt(Ze(e)).left+on(e).scrollLeft}function rc(e,t){var r=Le(e),n=Ze(e),o=r.visualViewport,a=n.clientWidth,s=n.clientHeight,u=0,f=0;if(o){a=o.width,s=o.height;var v=Yo();(v||!v&&t==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:a,height:s,x:u+an(e),y:f}}function nc(e){var t,r=Ze(e),n=on(e),o=(t=e.ownerDocument)==null?void 0:t.body,a=rt(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=rt(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-n.scrollLeft+an(e),f=-n.scrollTop;return Ye(o||r).direction==="rtl"&&(u+=rt(r.clientWidth,o?o.clientWidth:0)-a),{width:a,height:s,x:u,y:f}}function sn(e){var t=Ye(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function Qo(e){return["html","body","#document"].indexOf(He(e))>=0?e.ownerDocument.body:Ne(e)&&sn(e)?e:Qo(ar(e))}function At(e,t){var r;t===void 0&&(t=[]);var n=Qo(e),o=n===((r=e.ownerDocument)==null?void 0:r.body),a=Le(n),s=o?[a].concat(a.visualViewport||[],sn(n)?n:[]):n,u=t.concat(s);return o?u:u.concat(At(ar(s)))}function Lr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oc(e,t){var r=xt(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Dn(e,t,r){return t===Go?Lr(rc(e,r)):ot(t)?oc(t,r):Lr(nc(Ze(e)))}function ic(e){var t=At(ar(e)),r=["absolute","fixed"].indexOf(Ye(e).position)>=0,n=r&&Ne(e)?_t(e):e;return ot(n)?t.filter(function(o){return ot(o)&&Ko(o,n)&&He(o)!=="body"}):[]}function ac(e,t,r,n){var o=t==="clippingParents"?ic(e):[].concat(t),a=[].concat(o,[r]),s=a[0],u=a.reduce(function(f,v){var d=Dn(e,v,n);return f.top=rt(d.top,f.top),f.right=nr(d.right,f.right),f.bottom=nr(d.bottom,f.bottom),f.left=rt(d.left,f.left),f},Dn(e,s,n));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function ei(e){var t=e.reference,r=e.element,n=e.placement,o=n?$e(n):null,a=n?Ct(n):null,s=t.x+t.width/2-r.width/2,u=t.y+t.height/2-r.height/2,f;switch(o){case Oe:f={x:s,y:t.y-r.height};break;case je:f={x:s,y:t.y+t.height};break;case _e:f={x:t.x+t.width,y:u};break;case Ae:f={x:t.x-r.width,y:u};break;default:f={x:t.x,y:t.y}}var v=o?nn(o):null;if(v!=null){var d=v==="y"?"height":"width";switch(a){case yt:f[v]=f[v]-(t[d]/2-r[d]/2);break;case Bt:f[v]=f[v]+(t[d]/2-r[d]/2);break}}return f}function Nt(e,t){t===void 0&&(t={});var r=t,n=r.placement,o=n===void 0?e.placement:n,a=r.strategy,s=a===void 0?e.strategy:a,u=r.boundary,f=u===void 0?Eu:u,v=r.rootBoundary,d=v===void 0?Go:v,h=r.elementContext,C=h===void 0?Tt:h,S=r.altBoundary,T=S===void 0?!1:S,R=r.padding,k=R===void 0?0:R,O=Zo(typeof k!="number"?k:Jo(k,jt)),I=C===Tt?Tu:Tt,_=e.rects.popper,M=e.elements[T?I:C],V=ac(ot(M)?M:M.contextElement||Ze(e.elements.popper),f,d,s),G=xt(e.elements.reference),Y=ei({reference:G,element:_,strategy:"absolute",placement:o}),ee=Lr(Object.assign({},_,Y)),K=C===Tt?ee:G,X={top:V.top-K.top+O.top,bottom:K.bottom-V.bottom+O.bottom,left:V.left-K.left+O.left,right:K.right-V.right+O.right},ne=e.modifiersData.offset;if(C===Tt&&ne){var de=ne[o];Object.keys(X).forEach(function(se){var ce=[_e,je].indexOf(se)>=0?1:-1,ve=[Oe,je].indexOf(se)>=0?"y":"x";X[se]+=de[ve]*ce})}return X}function sc(e,t){t===void 0&&(t={});var r=t,n=r.placement,o=r.boundary,a=r.rootBoundary,s=r.padding,u=r.flipVariations,f=r.allowedAutoPlacements,v=f===void 0?qo:f,d=Ct(n),h=d?u?Mn:Mn.filter(function(T){return Ct(T)===d}):jt,C=h.filter(function(T){return v.indexOf(T)>=0});C.length===0&&(C=h);var S=C.reduce(function(T,R){return T[R]=Nt(e,{placement:R,boundary:o,rootBoundary:a,padding:s})[$e(R)],T},{});return Object.keys(S).sort(function(T,R){return S[T]-S[R]})}function uc(e){if($e(e)===en)return[];var t=Xt(e);return[Pn(e),t,Pn(t)]}function cc(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,a=o===void 0?!0:o,s=r.altAxis,u=s===void 0?!0:s,f=r.fallbackPlacements,v=r.padding,d=r.boundary,h=r.rootBoundary,C=r.altBoundary,S=r.flipVariations,T=S===void 0?!0:S,R=r.allowedAutoPlacements,k=t.options.placement,O=$e(k),I=O===k,_=f||(I||!T?[Xt(k)]:uc(k)),M=[k].concat(_).reduce(function(w,x){return w.concat($e(x)===en?sc(t,{placement:x,boundary:d,rootBoundary:h,padding:v,flipVariations:T,allowedAutoPlacements:R}):x)},[]),V=t.rects.reference,G=t.rects.popper,Y=new Map,ee=!0,K=M[0],X=0;X<M.length;X++){var ne=M[X],de=$e(ne),se=Ct(ne)===yt,ce=[Oe,je].indexOf(de)>=0,ve=ce?"width":"height",le=Nt(t,{placement:ne,boundary:d,rootBoundary:h,altBoundary:C,padding:v}),j=ce?se?_e:Ae:se?je:Oe;V[ve]>G[ve]&&(j=Xt(j));var oe=Xt(j),fe=[];if(a&&fe.push(le[de]<=0),u&&fe.push(le[j]<=0,le[oe]<=0),fe.every(function(w){return w})){K=ne,ee=!1;break}Y.set(ne,fe)}if(ee)for(var p=T?3:1,i=function(x){var P=M.find(function(g){var L=Y.get(g);if(L)return L.slice(0,x).every(function(U){return U})});if(P)return K=P,"break"},c=p;c>0;c--){var y=i(c);if(y==="break")break}t.placement!==K&&(t.modifiersData[n]._skip=!0,t.placement=K,t.reset=!0)}}const lc={name:"flip",enabled:!0,phase:"main",fn:cc,requiresIfExists:["offset"],data:{_skip:!1}};function Ln(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function In(e){return[Oe,_e,je,Ae].some(function(t){return e[t]>=0})}function dc(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,s=Nt(t,{elementContext:"reference"}),u=Nt(t,{altBoundary:!0}),f=Ln(s,n),v=Ln(u,o,a),d=In(f),h=In(v);t.modifiersData[r]={referenceClippingOffsets:f,popperEscapeOffsets:v,isReferenceHidden:d,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const fc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dc};function pc(e,t,r){var n=$e(e),o=[Ae,Oe].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=a[0],u=a[1];return s=s||0,u=(u||0)*o,[Ae,_e].indexOf(n)>=0?{x:u,y:s}:{x:s,y:u}}function vc(e){var t=e.state,r=e.options,n=e.name,o=r.offset,a=o===void 0?[0,0]:o,s=qo.reduce(function(d,h){return d[h]=pc(h,t.rects,a),d},{}),u=s[t.placement],f=u.x,v=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=v),t.modifiersData[n]=s}const hc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vc};function mc(e){var t=e.state,r=e.name;t.modifiersData[r]=ei({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const gc={name:"popperOffsets",enabled:!0,phase:"read",fn:mc,data:{}};function bc(e){return e==="x"?"y":"x"}function yc(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,a=o===void 0?!0:o,s=r.altAxis,u=s===void 0?!1:s,f=r.boundary,v=r.rootBoundary,d=r.altBoundary,h=r.padding,C=r.tether,S=C===void 0?!0:C,T=r.tetherOffset,R=T===void 0?0:T,k=Nt(t,{boundary:f,rootBoundary:v,padding:h,altBoundary:d}),O=$e(t.placement),I=Ct(t.placement),_=!I,M=nn(O),V=bc(M),G=t.modifiersData.popperOffsets,Y=t.rects.reference,ee=t.rects.popper,K=typeof R=="function"?R(Object.assign({},t.rects,{placement:t.placement})):R,X=typeof K=="number"?{mainAxis:K,altAxis:K}:Object.assign({mainAxis:0,altAxis:0},K),ne=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,de={x:0,y:0};if(G){if(a){var se,ce=M==="y"?Oe:Ae,ve=M==="y"?je:_e,le=M==="y"?"height":"width",j=G[M],oe=j+k[ce],fe=j-k[ve],p=S?-ee[le]/2:0,i=I===yt?Y[le]:ee[le],c=I===yt?-ee[le]:-Y[le],y=t.elements.arrow,w=S&&y?rn(y):{width:0,height:0},x=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Xo(),P=x[ce],g=x[ve],L=Ot(0,Y[le],w[le]),U=_?Y[le]/2-p-L-P-X.mainAxis:i-L-P-X.mainAxis,F=_?-Y[le]/2+p+L+g+X.mainAxis:c+L+g+X.mainAxis,q=t.elements.arrow&&_t(t.elements.arrow),W=q?M==="y"?q.clientTop||0:q.clientLeft||0:0,z=(se=ne==null?void 0:ne[M])!=null?se:0,N=j+U-z-W,H=j+F-z,Q=Ot(S?nr(oe,N):oe,j,S?rt(fe,H):fe);G[M]=Q,de[M]=Q-j}if(u){var b,B=M==="x"?Oe:Ae,Z=M==="x"?je:_e,m=G[V],A=V==="y"?"height":"width",J=m+k[B],te=m-k[Z],ue=[Oe,Ae].indexOf(O)!==-1,ie=(b=ne==null?void 0:ne[V])!=null?b:0,$=ue?J:m-Y[A]-ee[A]-ie+X.altAxis,D=ue?m+Y[A]+ee[A]-ie-X.altAxis:te,ae=S&&ue?Hu($,m,D):Ot(S?$:J,m,S?D:te);G[V]=ae,de[V]=ae-m}t.modifiersData[n]=de}}const wc={name:"preventOverflow",enabled:!0,phase:"main",fn:yc,requiresIfExists:["offset"]};function xc(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Cc(e){return e===Le(e)||!Ne(e)?on(e):xc(e)}function Rc(e){var t=e.getBoundingClientRect(),r=wt(t.width)/e.offsetWidth||1,n=wt(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Sc(e,t,r){r===void 0&&(r=!1);var n=Ne(t),o=Ne(t)&&Rc(t),a=Ze(t),s=xt(e,o,r),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(n||!n&&!r)&&((He(t)!=="body"||sn(a))&&(u=Cc(t)),Ne(t)?(f=xt(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):a&&(f.x=an(a))),{x:s.left+u.scrollLeft-f.x,y:s.top+u.scrollTop-f.y,width:s.width,height:s.height}}function kc(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function o(a){r.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(u){if(!r.has(u)){var f=t.get(u);f&&o(f)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||o(a)}),n}function Ec(e){var t=kc(e);return Nu.reduce(function(r,n){return r.concat(t.filter(function(o){return o.phase===n}))},[])}function Tc(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Mc(e){var t=e.reduce(function(r,n){var o=r[n.name];return r[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Fn={placement:"bottom",modifiers:[],strategy:"absolute"};function Bn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Oc(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,o=t.defaultOptions,a=o===void 0?Fn:o;return function(u,f,v){v===void 0&&(v=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fn,a),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},h=[],C=!1,S={state:d,setOptions:function(O){var I=typeof O=="function"?O(d.options):O;R(),d.options=Object.assign({},a,d.options,I),d.scrollParents={reference:ot(u)?At(u):u.contextElement?At(u.contextElement):[],popper:At(f)};var _=Ec(Mc([].concat(n,d.options.modifiers)));return d.orderedModifiers=_.filter(function(M){return M.enabled}),T(),S.update()},forceUpdate:function(){if(!C){var O=d.elements,I=O.reference,_=O.popper;if(Bn(I,_)){d.rects={reference:Sc(I,_t(_),d.options.strategy==="fixed"),popper:rn(_)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(X){return d.modifiersData[X.name]=Object.assign({},X.data)});for(var M=0;M<d.orderedModifiers.length;M++){if(d.reset===!0){d.reset=!1,M=-1;continue}var V=d.orderedModifiers[M],G=V.fn,Y=V.options,ee=Y===void 0?{}:Y,K=V.name;typeof G=="function"&&(d=G({state:d,options:ee,name:K,instance:S})||d)}}}},update:Tc(function(){return new Promise(function(k){S.forceUpdate(),k(d)})}),destroy:function(){R(),C=!0}};if(!Bn(u,f))return S;S.setOptions(v).then(function(k){!C&&v.onFirstUpdate&&v.onFirstUpdate(k)});function T(){d.orderedModifiers.forEach(function(k){var O=k.name,I=k.options,_=I===void 0?{}:I,M=k.effect;if(typeof M=="function"){var V=M({state:d,name:O,instance:S,options:_}),G=function(){};h.push(V||G)}})}function R(){h.forEach(function(k){return k()}),h=[]}return S}}var Ac=[Qu,gc,Zu,Uu,hc,lc,wc,qu,fc],Pc=Oc({defaultModifiers:Ac});function ti(e={}){const{enabled:t=!0,modifiers:r,placement:n="bottom",strategy:o="absolute",arrowPadding:a=8,eventListeners:s=!0,offset:u,gutter:f=8,flip:v=!0,boundary:d="clippingParents",preventOverflow:h=!0,matchWidth:C,direction:S="ltr"}=e,T=l.useRef(null),R=l.useRef(null),k=l.useRef(null),O=ku(n,S),I=l.useRef(()=>{}),_=l.useCallback(()=>{var X;!t||!T.current||!R.current||((X=I.current)==null||X.call(I),k.current=Pc(T.current,R.current,{placement:O,modifiers:[Cu,yu,bu,{...gu,enabled:!!C},{name:"eventListeners",...mu(s)},{name:"arrow",options:{padding:a}},{name:"offset",options:{offset:u??[0,f]}},{name:"flip",enabled:!!v,options:{padding:8}},{name:"preventOverflow",enabled:!!h,options:{boundary:d}},...r??[]],strategy:o}),k.current.forceUpdate(),I.current=k.current.destroy)},[O,t,r,C,s,a,u,f,v,h,d,o]);l.useEffect(()=>()=>{var X;!T.current&&!R.current&&((X=k.current)==null||X.destroy(),k.current=null)},[]);const M=l.useCallback(X=>{T.current=X,_()},[_]),V=l.useCallback((X={},ne=null)=>({...X,ref:Me(M,ne)}),[M]),G=l.useCallback(X=>{R.current=X,_()},[_]),Y=l.useCallback((X={},ne=null)=>({...X,ref:Me(G,ne),style:{...X.style,position:o,minWidth:C?void 0:"max-content",inset:"0 auto auto 0"}}),[o,G,C]),ee=l.useCallback((X={},ne=null)=>{const{size:de,shadowColor:se,bg:ce,style:ve,...le}=X;return{...le,ref:ne,"data-popper-arrow":"",style:Dc(X)}},[]),K=l.useCallback((X={},ne=null)=>({...X,ref:ne,"data-popper-arrow-inner":""}),[]);return{update(){var X;(X=k.current)==null||X.update()},forceUpdate(){var X;(X=k.current)==null||X.forceUpdate()},transformOrigin:Se.transformOrigin.varRef,referenceRef:M,popperRef:G,getPopperProps:Y,getArrowProps:ee,getArrowInnerProps:K,getReferenceProps:V}}function Dc(e){const{size:t,shadowColor:r,bg:n,style:o}=e,a={...o,position:"absolute"};return t&&(a["--popper-arrow-size"]=t),r&&(a["--popper-arrow-shadow-color"]=r),n&&(a["--popper-arrow-bg"]=n),a}function ri(e={}){const{onClose:t,onOpen:r,isOpen:n,id:o}=e,a=er(r),s=er(t),[u,f]=l.useState(e.defaultIsOpen||!1),v=n!==void 0?n:u,d=n!==void 0,h=l.useId(),C=o??`disclosure-${h}`,S=l.useCallback(()=>{d||f(!1),s==null||s()},[d,s]),T=l.useCallback(()=>{d||f(!0),a==null||a()},[d,a]),R=l.useCallback(()=>{v?S():T()},[v,T,S]);function k(I={}){return{...I,"aria-expanded":v,"aria-controls":C,onClick(_){var M;(M=I.onClick)==null||M.call(I,_),R()}}}function O(I={}){return{...I,hidden:!v,id:C}}return{isOpen:v,onOpen:T,onClose:S,onToggle:R,isControlled:d,getButtonProps:k,getDisclosureProps:O}}function Lc(e){const{ref:t,handler:r,enabled:n=!0}=e,o=er(r),s=l.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;l.useEffect(()=>{if(!n)return;const u=h=>{yr(h,t)&&(s.isPointerDown=!0)},f=h=>{if(s.ignoreEmulatedMouseEvents){s.ignoreEmulatedMouseEvents=!1;return}s.isPointerDown&&r&&yr(h,t)&&(s.isPointerDown=!1,o(h))},v=h=>{s.ignoreEmulatedMouseEvents=!0,r&&s.isPointerDown&&yr(h,t)&&(s.isPointerDown=!1,o(h))},d=ni(t.current);return d.addEventListener("mousedown",u,!0),d.addEventListener("mouseup",f,!0),d.addEventListener("touchstart",u,!0),d.addEventListener("touchend",v,!0),()=>{d.removeEventListener("mousedown",u,!0),d.removeEventListener("mouseup",f,!0),d.removeEventListener("touchstart",u,!0),d.removeEventListener("touchend",v,!0)}},[r,t,o,s,n])}function yr(e,t){var r;const n=e.target;return n&&!ni(n).contains(n)?!1:!((r=t.current)!=null&&r.contains(n))}function ni(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function oi(e){const{isOpen:t,ref:r}=e,[n,o]=l.useState(t),[a,s]=l.useState(!1);return l.useEffect(()=>{a||(o(t),s(!0))},[t,a,n]),Ur(()=>r.current,"animationend",()=>{o(t)}),{present:!(t?!1:!n),onComplete(){var f;const v=Ys(r.current),d=new v.CustomEvent("animationend",{bubbles:!0});(f=r.current)==null||f.dispatchEvent(d)}}}function ii(e){const{wasSelected:t,enabled:r,isSelected:n,mode:o="unmount"}=e;return!!(!r||n||o==="keepMounted"&&t)}var[Ic,Fc,Bc,Nc]=xa(),[jc,Ut]=at({strict:!1,name:"MenuContext"});function _c(e,...t){const r=l.useId(),n=e||r;return l.useMemo(()=>t.map(o=>`${o}-${n}`),[n,t])}function ai(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Nn(e){return ai(e).activeElement===e}function Uc(e={}){const{id:t,closeOnSelect:r=!0,closeOnBlur:n=!0,initialFocusRef:o,autoSelect:a=!0,isLazy:s,isOpen:u,defaultIsOpen:f,onClose:v,onOpen:d,placement:h="bottom-start",lazyBehavior:C="unmount",direction:S,computePositionOnMount:T=!1,...R}=e,k=l.useRef(null),O=l.useRef(null),I=Bc(),_=l.useCallback(()=>{requestAnimationFrame(()=>{var y;(y=k.current)==null||y.focus({preventScroll:!1})})},[]),M=l.useCallback(()=>{const y=setTimeout(()=>{var w;if(o)(w=o.current)==null||w.focus();else{const x=I.firstEnabled();x&&se(x.index)}});oe.current.add(y)},[I,o]),V=l.useCallback(()=>{const y=setTimeout(()=>{const w=I.lastEnabled();w&&se(w.index)});oe.current.add(y)},[I]),G=l.useCallback(()=>{d==null||d(),a?M():_()},[a,M,_,d]),{isOpen:Y,onOpen:ee,onClose:K,onToggle:X}=ri({isOpen:u,defaultIsOpen:f,onClose:v,onOpen:G});Lc({enabled:Y&&n,ref:k,handler:y=>{var w;(w=O.current)!=null&&w.contains(y.target)||K()}});const ne=ti({...R,enabled:Y||T,placement:h,direction:S}),[de,se]=l.useState(-1);ir(()=>{Y||se(-1)},[Y]),Vo(k,{focusRef:O,visible:Y,shouldFocus:!0});const ce=oi({isOpen:Y,ref:k}),[ve,le]=_c(t,"menu-button","menu-list"),j=l.useCallback(()=>{ee(),_()},[ee,_]),oe=l.useRef(new Set([]));l.useEffect(()=>{const y=oe.current;return()=>{y.forEach(w=>clearTimeout(w)),y.clear()}},[]);const fe=l.useCallback(()=>{ee(),M()},[M,ee]),p=l.useCallback(()=>{ee(),V()},[ee,V]),i=l.useCallback(()=>{var y,w;const x=ai(k.current),P=(y=k.current)==null?void 0:y.contains(x.activeElement);if(!(Y&&!P))return;const L=(w=I.item(de))==null?void 0:w.node;L==null||L.focus({preventScroll:!0})},[Y,de,I]),c=l.useRef(null);return{openAndFocusMenu:j,openAndFocusFirstItem:fe,openAndFocusLastItem:p,onTransitionEnd:i,unstable__animationState:ce,descendants:I,popper:ne,buttonId:ve,menuId:le,forceUpdate:ne.forceUpdate,orientation:"vertical",isOpen:Y,onToggle:X,onOpen:ee,onClose:K,menuRef:k,buttonRef:O,focusedIndex:de,closeOnSelect:r,closeOnBlur:n,autoSelect:a,setFocusedIndex:se,isLazy:s,lazyBehavior:C,initialFocusRef:o,rafId:c}}function Wc(e={},t=null){const r=Ut(),{onToggle:n,popper:o,openAndFocusFirstItem:a,openAndFocusLastItem:s}=r,u=l.useCallback(f=>{const v=f.key,h={Enter:a,ArrowDown:a,ArrowUp:s}[v];h&&(f.preventDefault(),f.stopPropagation(),h(f))},[a,s]);return{...e,ref:Me(r.buttonRef,t,o.referenceRef),id:r.buttonId,"data-active":Xn(r.isOpen),"aria-expanded":r.isOpen,"aria-haspopup":"menu","aria-controls":r.menuId,onClick:xe(e.onClick,n),onKeyDown:xe(e.onKeyDown,u)}}function Ir(e){var t;return Vc(e)&&!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))}function $c(e={},t=null){const r=Ut();if(!r)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:n,setFocusedIndex:o,menuRef:a,isOpen:s,onClose:u,menuId:f,isLazy:v,lazyBehavior:d,unstable__animationState:h}=r,C=Fc(),S=iu({preventDefault:O=>O.key!==" "&&Ir(O.target)}),T=l.useCallback(O=>{if(!O.currentTarget.contains(O.target))return;const I=O.key,M={Tab:G=>G.preventDefault(),Escape:u,ArrowDown:()=>{const G=C.nextEnabled(n);G&&o(G.index)},ArrowUp:()=>{const G=C.prevEnabled(n);G&&o(G.index)}}[I];if(M){O.preventDefault(),M(O);return}const V=S(G=>{const Y=au(C.values(),G,ee=>{var K,X;return(X=(K=ee==null?void 0:ee.node)==null?void 0:K.textContent)!=null?X:""},C.item(n));if(Y){const ee=C.indexOf(Y.node);o(ee)}});Ir(O.target)&&V(O)},[C,n,S,u,o]),R=l.useRef(!1);s&&(R.current=!0);const k=ii({wasSelected:R.current,enabled:v,mode:d,isSelected:h.present});return{...e,ref:Me(a,t),children:k?e.children:null,tabIndex:-1,role:"menu",id:f,style:{...e.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:xe(e.onKeyDown,T)}}function Hc(e={}){const{popper:t,isOpen:r}=Ut();return t.getPopperProps({...e,style:{visibility:r?"visible":"hidden",...e.style}})}function zc(e={},t=null){const{onMouseEnter:r,onMouseMove:n,onMouseLeave:o,onClick:a,onFocus:s,isDisabled:u,isFocusable:f,closeOnSelect:v,type:d,...h}=e,C=Ut(),{setFocusedIndex:S,focusedIndex:T,closeOnSelect:R,onClose:k,menuRef:O,isOpen:I,menuId:_,rafId:M}=C,V=l.useRef(null),G=`${_}-menuitem-${l.useId()}`,{index:Y,register:ee}=Nc({disabled:u&&!f}),K=l.useCallback(j=>{r==null||r(j),!u&&S(Y)},[S,Y,u,r]),X=l.useCallback(j=>{n==null||n(j),V.current&&!Nn(V.current)&&K(j)},[K,n]),ne=l.useCallback(j=>{o==null||o(j),!u&&S(-1)},[S,u,o]),de=l.useCallback(j=>{a==null||a(j),Ir(j.currentTarget)&&(v??R)&&k()},[k,a,R,v]),se=l.useCallback(j=>{s==null||s(j),S(Y)},[S,s,Y]),ce=Y===T,ve=u&&!f;ir(()=>{if(I)return ce&&!ve&&V.current?(M.current&&cancelAnimationFrame(M.current),M.current=requestAnimationFrame(()=>{var j;(j=V.current)==null||j.focus({preventScroll:!0}),M.current=null})):O.current&&!Nn(O.current)&&O.current.focus({preventScroll:!0}),()=>{M.current&&cancelAnimationFrame(M.current)}},[ce,ve,O,I]);const le=uu({onClick:de,onFocus:se,onMouseEnter:K,onMouseMove:X,onMouseLeave:ne,ref:Me(ee,V,t),isDisabled:u,isFocusable:f});return{...h,...le,type:d??le.type,id:G,role:"menuitem",tabIndex:ce?0:-1}}function Vc(e){var t;if(!Gc(e))return!1;const r=(t=e.ownerDocument.defaultView)!=null?t:window;return e instanceof r.HTMLElement}function Gc(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}var[qc,Wt]=at({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),si=e=>{const{children:t}=e,r=jr("Menu",e),n=Zn(e),{direction:o}=Jn(),{descendants:a,...s}=Uc({...n,direction:o}),u=l.useMemo(()=>s,[s]),{isOpen:f,onClose:v,forceUpdate:d}=u;return E.jsx(Ic,{value:a,children:E.jsx(jc,{value:u,children:E.jsx(qc,{value:r,children:Qn(t,{isOpen:f,onClose:v,forceUpdate:d})})})})};si.displayName="Menu";var ui=Ce((e,t)=>{const r=Wt();return E.jsx(Ee.span,{ref:t,...e,__css:r.command,className:"chakra-menu__command"})});ui.displayName="MenuCommand";var Yc=Ce((e,t)=>{const{type:r,...n}=e,o=Wt(),a=n.as||r?r??void 0:"button",s=l.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...o.item}),[o.item]);return E.jsx(Ee.button,{ref:t,type:a,...n,__css:s})}),ci=e=>{const{className:t,children:r,...n}=e,o=Wt(),a=l.Children.only(r),s=l.isValidElement(a)?l.cloneElement(a,{focusable:"false","aria-hidden":!0,className:ke("chakra-menu__icon",a.props.className)}):null,u=ke("chakra-menu__icon-wrapper",t);return E.jsx(Ee.span,{className:u,...n,__css:o.icon,children:s})};ci.displayName="MenuIcon";var li=Ce((e,t)=>{const{icon:r,iconSpacing:n="0.75rem",command:o,commandSpacing:a="0.75rem",children:s,...u}=e,f=zc(u,t),d=r||o?E.jsx("span",{style:{pointerEvents:"none",flex:1},children:s}):s;return E.jsxs(Yc,{...f,className:ke("chakra-menu__menuitem",f.className),children:[r&&E.jsx(ci,{fontSize:"0.8em",marginEnd:n,children:r}),d,o&&E.jsx(ui,{marginStart:a,children:o})]})});li.displayName="MenuItem";var Kc={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},Xc=Ee(st.div),di=Ce(function(t,r){var n,o;const{rootProps:a,motionProps:s,...u}=t,{isOpen:f,onTransitionEnd:v,unstable__animationState:d}=Ut(),h=$c(u,r),C=Hc(a),S=Wt();return E.jsx(Ee.div,{...C,__css:{zIndex:(o=t.zIndex)!=null?o:(n=S.list)==null?void 0:n.zIndex},children:E.jsx(Xc,{variants:Kc,initial:!1,animate:f?"enter":"exit",__css:{outline:0,...S.list},...s,className:ke("chakra-menu__menu-list",h.className),...h,onUpdate:v,onAnimationComplete:eo(d.onComplete,h.onAnimationComplete)})})});di.displayName="MenuList";var Zc=Ce((e,t)=>{const r=Wt();return E.jsx(Ee.button,{ref:t,...e,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...r.button}})}),fi=Ce((e,t)=>{const{children:r,as:n,...o}=e,a=Wc(o,t),s=n||Zc;return E.jsx(s,{...a,className:ke("chakra-menu__menu-button",e.className),children:E.jsx(Ee.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:e.children})})});fi.displayName="MenuButton";var Jc={slideInBottom:{...Mt,custom:{offsetY:16,reverse:!0}},slideInRight:{...Mt,custom:{offsetX:16,reverse:!0}},slideInTop:{...Mt,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...Mt,custom:{offsetX:-16,reverse:!0}},scale:{...no,custom:{initialScale:.95,reverse:!0}},none:{}},Qc=Ee(st.section),el=e=>Jc[e||"none"],pi=l.forwardRef((e,t)=>{const{preset:r,motionProps:n=el(r),...o}=e;return E.jsx(Qc,{ref:t,...n,...o})});pi.displayName="ModalTransition";var tl=Object.defineProperty,rl=(e,t,r)=>t in e?tl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nl=(e,t,r)=>(rl(e,t+"",r),r),ol=class{constructor(){nl(this,"modals"),this.modals=new Map}add(e){return this.modals.set(e,this.modals.size+1),this.modals.size}remove(e){this.modals.delete(e)}isTopModal(e){return e?this.modals.get(e)===this.modals.size:!1}},Fr=new ol;function vi(e,t){const[r,n]=l.useState(0);return l.useEffect(()=>{const o=e.current;if(o){if(t){const a=Fr.add(o);n(a)}return()=>{Fr.remove(o),n(0)}}},[t,e]),r}var il=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ct=new WeakMap,Gt=new WeakMap,qt={},wr=0,hi=function(e){return e&&(e.host||hi(e.parentNode))},al=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=hi(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},sl=function(e,t,r,n){var o=al(t,Array.isArray(e)?e:[e]);qt[r]||(qt[r]=new WeakMap);var a=qt[r],s=[],u=new Set,f=new Set(o),v=function(h){!h||u.has(h)||(u.add(h),v(h.parentNode))};o.forEach(v);var d=function(h){!h||f.has(h)||Array.prototype.forEach.call(h.children,function(C){if(u.has(C))d(C);else try{var S=C.getAttribute(n),T=S!==null&&S!=="false",R=(ct.get(C)||0)+1,k=(a.get(C)||0)+1;ct.set(C,R),a.set(C,k),s.push(C),R===1&&T&&Gt.set(C,!0),k===1&&C.setAttribute(r,"true"),T||C.setAttribute(n,"true")}catch(O){console.error("aria-hidden: cannot operate on ",C,O)}})};return d(t),u.clear(),wr++,function(){s.forEach(function(h){var C=ct.get(h)-1,S=a.get(h)-1;ct.set(h,C),a.set(h,S),C||(Gt.has(h)||h.removeAttribute(n),Gt.delete(h)),S||h.removeAttribute(r)}),wr--,wr||(ct=new WeakMap,ct=new WeakMap,Gt=new WeakMap,qt={})}},ul=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=il(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),sl(n,o,r,"aria-hidden")):function(){return null}};function cl(e){const{isOpen:t,onClose:r,id:n,closeOnOverlayClick:o=!0,closeOnEsc:a=!0,useInert:s=!0,onOverlayClick:u,onEsc:f}=e,v=l.useRef(null),d=l.useRef(null),[h,C,S]=dl(n,"chakra-modal","chakra-modal--header","chakra-modal--body");ll(v,t&&s);const T=vi(v,t),R=l.useRef(null),k=l.useCallback(K=>{R.current=K.target},[]),O=l.useCallback(K=>{K.key==="Escape"&&(K.stopPropagation(),a&&(r==null||r()),f==null||f())},[a,r,f]),[I,_]=l.useState(!1),[M,V]=l.useState(!1),G=l.useCallback((K={},X=null)=>({role:"dialog",...K,ref:Me(X,v),id:h,tabIndex:-1,"aria-modal":!0,"aria-labelledby":I?C:void 0,"aria-describedby":M?S:void 0,onClick:xe(K.onClick,ne=>ne.stopPropagation())}),[S,M,h,C,I]),Y=l.useCallback(K=>{K.stopPropagation(),R.current===K.target&&Fr.isTopModal(v.current)&&(o&&(r==null||r()),u==null||u())},[r,o,u]),ee=l.useCallback((K={},X=null)=>({...K,ref:Me(X,d),onClick:xe(K.onClick,Y),onKeyDown:xe(K.onKeyDown,O),onMouseDown:xe(K.onMouseDown,k)}),[O,k,Y]);return{isOpen:t,onClose:r,headerId:C,bodyId:S,setBodyMounted:V,setHeaderMounted:_,dialogRef:v,overlayRef:d,getDialogProps:G,getDialogContainerProps:ee,index:T}}function ll(e,t){const r=e.current;l.useEffect(()=>{if(!(!e.current||!t))return ul(e.current)},[t,e,r])}function dl(e,...t){const r=l.useId(),n=e||r;return l.useMemo(()=>t.map(o=>`${o}-${n}`),[n,t])}var[fl,Rt]=at({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[pl,it]=at({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),mi=e=>{const t={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...e},{portalProps:r,children:n,autoFocus:o,trapFocus:a,initialFocusRef:s,finalFocusRef:u,returnFocusOnClose:f,blockScrollOnMount:v,allowPinchZoom:d,preserveScrollBarGap:h,motionPreset:C,lockFocusAcrossFrames:S,onCloseComplete:T}=t,R=jr("Modal",t),O={...cl(t),autoFocus:o,trapFocus:a,initialFocusRef:s,finalFocusRef:u,returnFocusOnClose:f,blockScrollOnMount:v,allowPinchZoom:d,preserveScrollBarGap:h,motionPreset:C,lockFocusAcrossFrames:S};return E.jsx(pl,{value:O,children:E.jsx(fl,{value:R,children:E.jsx(or,{onExitComplete:T,children:O.isOpen&&E.jsx(Ki,{...r,children:n})})})})};mi.displayName="Modal";var Zt="right-scroll-bar-position",Jt="width-before-scroll-bar",vl="with-scroll-bars-hidden",hl="--removed-body-scroll-bar-size",gi=co(),xr=function(){},sr=l.forwardRef(function(e,t){var r=l.useRef(null),n=l.useState({onScrollCapture:xr,onWheelCapture:xr,onTouchMoveCapture:xr}),o=n[0],a=n[1],s=e.forwardProps,u=e.children,f=e.className,v=e.removeScrollBar,d=e.enabled,h=e.shards,C=e.sideCar,S=e.noIsolation,T=e.inert,R=e.allowPinchZoom,k=e.as,O=k===void 0?"div":k,I=e.gapMode,_=Kn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=C,V=ao([r,t]),G=Xe(Xe({},_),o);return l.createElement(l.Fragment,null,d&&l.createElement(M,{sideCar:gi,removeScrollBar:v,shards:h,noIsolation:S,inert:T,setCallbacks:a,allowPinchZoom:!!R,lockRef:r,gapMode:I}),s?l.cloneElement(l.Children.only(u),Xe(Xe({},G),{ref:V})):l.createElement(O,Xe({},G,{className:f,ref:V}),u))});sr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sr.classNames={fullWidth:Jt,zeroRight:Zt};var ml=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gl(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ml();return t&&e.setAttribute("nonce",t),e}function bl(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yl(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wl=function(){var e=0,t=null;return{add:function(r){e==0&&(t=gl())&&(bl(t,r),yl(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xl=function(){var e=wl();return function(t,r){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},bi=function(){var e=xl(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},Cl={left:0,top:0,right:0,gap:0},Cr=function(e){return parseInt(e||"",10)||0},Rl=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Cr(r),Cr(n),Cr(o)]},Sl=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Cl;var t=Rl(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},kl=bi(),mt="data-scroll-locked",El=function(e,t,r,n){var o=e.left,a=e.top,s=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(vl,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(mt,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zt,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Jt,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Zt," .").concat(Zt,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Jt," .").concat(Jt,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(mt,`] {
    `).concat(hl,": ").concat(u,`px;
  }
`)},jn=function(){var e=parseInt(document.body.getAttribute(mt)||"0",10);return isFinite(e)?e:0},Tl=function(){l.useEffect(function(){return document.body.setAttribute(mt,(jn()+1).toString()),function(){var e=jn()-1;e<=0?document.body.removeAttribute(mt):document.body.setAttribute(mt,e.toString())}},[])},Ml=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;Tl();var a=l.useMemo(function(){return Sl(o)},[o]);return l.createElement(kl,{styles:El(a,!t,o,r?"":"!important")})},Br=!1;if(typeof window<"u")try{var Yt=Object.defineProperty({},"passive",{get:function(){return Br=!0,!0}});window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Br=!1}var lt=Br?{passive:!1}:!1,Ol=function(e){return e.tagName==="TEXTAREA"},yi=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ol(e)&&r[t]==="visible")},Al=function(e){return yi(e,"overflowY")},Pl=function(e){return yi(e,"overflowX")},_n=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=wi(e,n);if(o){var a=xi(e,n),s=a[1],u=a[2];if(s>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Dl=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Ll=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},wi=function(e,t){return e==="v"?Al(t):Pl(t)},xi=function(e,t){return e==="v"?Dl(t):Ll(t)},Il=function(e,t){return e==="h"&&t==="rtl"?-1:1},Fl=function(e,t,r,n,o){var a=Il(e,window.getComputedStyle(t).direction),s=a*n,u=r.target,f=t.contains(u),v=!1,d=s>0,h=0,C=0;do{var S=xi(e,u),T=S[0],R=S[1],k=S[2],O=R-k-a*T;(T||O)&&wi(e,u)&&(h+=O,C+=T),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(d&&(Math.abs(h)<1||!o)||!d&&(Math.abs(C)<1||!o))&&(v=!0),v},Kt=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Un=function(e){return[e.deltaX,e.deltaY]},Wn=function(e){return e&&"current"in e?e.current:e},Bl=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Nl=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jl=0,dt=[];function _l(e){var t=l.useRef([]),r=l.useRef([0,0]),n=l.useRef(),o=l.useState(jl++)[0],a=l.useState(bi)[0],s=l.useRef(e);l.useEffect(function(){s.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var R=Xi([e.lockRef.current],(e.shards||[]).map(Wn),!0).filter(Boolean);return R.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),R.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=l.useCallback(function(R,k){if("touches"in R&&R.touches.length===2)return!s.current.allowPinchZoom;var O=Kt(R),I=r.current,_="deltaX"in R?R.deltaX:I[0]-O[0],M="deltaY"in R?R.deltaY:I[1]-O[1],V,G=R.target,Y=Math.abs(_)>Math.abs(M)?"h":"v";if("touches"in R&&Y==="h"&&G.type==="range")return!1;var ee=_n(Y,G);if(!ee)return!0;if(ee?V=Y:(V=Y==="v"?"h":"v",ee=_n(Y,G)),!ee)return!1;if(!n.current&&"changedTouches"in R&&(_||M)&&(n.current=V),!V)return!0;var K=n.current||V;return Fl(K,k,R,K==="h"?_:M,!0)},[]),f=l.useCallback(function(R){var k=R;if(!(!dt.length||dt[dt.length-1]!==a)){var O="deltaY"in k?Un(k):Kt(k),I=t.current.filter(function(V){return V.name===k.type&&(V.target===k.target||k.target===V.shadowParent)&&Bl(V.delta,O)})[0];if(I&&I.should){k.cancelable&&k.preventDefault();return}if(!I){var _=(s.current.shards||[]).map(Wn).filter(Boolean).filter(function(V){return V.contains(k.target)}),M=_.length>0?u(k,_[0]):!s.current.noIsolation;M&&k.cancelable&&k.preventDefault()}}},[]),v=l.useCallback(function(R,k,O,I){var _={name:R,delta:k,target:O,should:I,shadowParent:Ul(O)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(M){return M!==_})},1)},[]),d=l.useCallback(function(R){r.current=Kt(R),n.current=void 0},[]),h=l.useCallback(function(R){v(R.type,Un(R),R.target,u(R,e.lockRef.current))},[]),C=l.useCallback(function(R){v(R.type,Kt(R),R.target,u(R,e.lockRef.current))},[]);l.useEffect(function(){return dt.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:C}),document.addEventListener("wheel",f,lt),document.addEventListener("touchmove",f,lt),document.addEventListener("touchstart",d,lt),function(){dt=dt.filter(function(R){return R!==a}),document.removeEventListener("wheel",f,lt),document.removeEventListener("touchmove",f,lt),document.removeEventListener("touchstart",d,lt)}},[]);var S=e.removeScrollBar,T=e.inert;return l.createElement(l.Fragment,null,T?l.createElement(a,{styles:Nl(o)}):null,S?l.createElement(Ml,{gapMode:e.gapMode}):null)}function Ul(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Wl=Ua(gi,_l);var Ci=l.forwardRef(function(e,t){return l.createElement(sr,Xe({},e,{ref:t,sideCar:Wl}))});Ci.classNames=sr.classNames;function $l(e){const{autoFocus:t,trapFocus:r,dialogRef:n,initialFocusRef:o,blockScrollOnMount:a,allowPinchZoom:s,finalFocusRef:u,returnFocusOnClose:f,preserveScrollBarGap:v,lockFocusAcrossFrames:d,isOpen:h}=it(),[C,S]=Zi();l.useEffect(()=>{!C&&S&&setTimeout(S)},[C,S]);const T=vi(n,h);return E.jsx(zo,{autoFocus:t,isDisabled:!r,initialFocusRef:o,finalFocusRef:u,restoreFocus:f,contentRef:n,lockFocusAcrossFrames:d,children:E.jsx(Ci,{removeScrollBar:!v,allowPinchZoom:s,enabled:T===1&&a,forwardProps:!0,children:e.children})})}var Ri=Ce((e,t)=>{const{className:r,children:n,containerProps:o,motionProps:a,...s}=e,{getDialogProps:u,getDialogContainerProps:f}=it(),v=u(s,t),d=f(o),h=ke("chakra-modal__content",r),C=Rt(),S={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...C.dialog},T={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...C.dialogContainer},{motionPreset:R}=it();return E.jsx($l,{children:E.jsx(Ee.div,{...d,className:"chakra-modal__content-container",tabIndex:-1,__css:T,children:E.jsx(pi,{preset:R,motionProps:a,className:h,...v,__css:S,children:n})})})});Ri.displayName="ModalContent";var Si=Ce((e,t)=>{const{className:r,...n}=e,o=ke("chakra-modal__footer",r),s={display:"flex",alignItems:"center",justifyContent:"flex-end",...Rt().footer};return E.jsx(Ee.footer,{ref:t,...n,__css:s,className:o})});Si.displayName="ModalFooter";var ki=Ce((e,t)=>{const{className:r,...n}=e,{headerId:o,setHeaderMounted:a}=it();l.useEffect(()=>(a(!0),()=>a(!1)),[a]);const s=ke("chakra-modal__header",r),f={flex:0,...Rt().header};return E.jsx(Ee.header,{ref:t,className:s,id:o,...n,__css:f})});ki.displayName="ModalHeader";var Hl=Ee(st.div),Ei=Ce((e,t)=>{const{className:r,transition:n,motionProps:o,...a}=e,s=ke("chakra-modal__overlay",r),f={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...Rt().overlay},{motionPreset:v}=it(),h=o||(v==="none"?{}:ro);return E.jsx(Hl,{...h,__css:f,ref:t,className:s,...a})});Ei.displayName="ModalOverlay";var Ti=Ce((e,t)=>{const{className:r,...n}=e,{bodyId:o,setBodyMounted:a}=it();l.useEffect(()=>(a(!0),()=>a(!1)),[a]);const s=ke("chakra-modal__body",r),u=Rt();return E.jsx(Ee.div,{ref:t,className:s,id:o,...n,__css:u.body})});Ti.displayName="ModalBody";var Mi=Ce((e,t)=>{const{onClick:r,className:n,...o}=e,{onClose:a}=it(),s=ke("chakra-modal__close-btn",n),u=Rt();return E.jsx(Ji,{ref:t,__css:u.closeButton,className:s,onClick:xe(r,f=>{f.stopPropagation(),a()}),...o})});Mi.displayName="ModalCloseButton";var[zl,ur]=at({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[Vl,Oi]=at({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `});function Ai(e){const t=l.Children.only(e.children),{getTriggerProps:r}=ur();return l.cloneElement(t,r(t.props,t.ref))}Ai.displayName="PopoverTrigger";var ft={click:"click",hover:"hover"};function Gl(e={}){const{closeOnBlur:t=!0,closeOnEsc:r=!0,initialFocusRef:n,id:o,returnFocusOnClose:a=!0,autoFocus:s=!0,arrowSize:u,arrowShadowColor:f,trigger:v=ft.click,openDelay:d=200,closeDelay:h=200,isLazy:C,lazyBehavior:S="unmount",computePositionOnMount:T,...R}=e,{isOpen:k,onClose:O,onOpen:I,onToggle:_}=ri(e),M=l.useRef(null),V=l.useRef(null),G=l.useRef(null),Y=l.useRef(!1),ee=l.useRef(!1);k&&(ee.current=!0);const[K,X]=l.useState(!1),[ne,de]=l.useState(!1),se=l.useId(),ce=o??se,[ve,le,j,oe]=["popover-trigger","popover-content","popover-header","popover-body"].map(H=>`${H}-${ce}`),{referenceRef:fe,getArrowProps:p,getPopperProps:i,getArrowInnerProps:c,forceUpdate:y}=ti({...R,enabled:k||!!T}),w=oi({isOpen:k,ref:G});Ia({enabled:k,ref:V}),Vo(G,{focusRef:V,visible:k,shouldFocus:a&&v===ft.click}),du(G,{focusRef:n,visible:k,shouldFocus:s&&v===ft.click});const x=ii({wasSelected:ee.current,enabled:C,mode:S,isSelected:w.present}),P=l.useCallback((H={},Q=null)=>{const b={...H,style:{...H.style,transformOrigin:Se.transformOrigin.varRef,[Se.arrowSize.var]:u?`${u}px`:void 0,[Se.arrowShadowColor.var]:f},ref:Me(G,Q),children:x?H.children:null,id:le,tabIndex:-1,role:"dialog",onKeyDown:xe(H.onKeyDown,B=>{r&&B.key==="Escape"&&O()}),onBlur:xe(H.onBlur,B=>{const Z=$n(B),m=Rr(G.current,Z),A=Rr(V.current,Z);k&&t&&(!m&&!A)&&O()}),"aria-labelledby":K?j:void 0,"aria-describedby":ne?oe:void 0};return v===ft.hover&&(b.role="tooltip",b.onMouseEnter=xe(H.onMouseEnter,()=>{Y.current=!0}),b.onMouseLeave=xe(H.onMouseLeave,B=>{B.nativeEvent.relatedTarget!==null&&(Y.current=!1,setTimeout(()=>O(),h))})),b},[x,le,K,j,ne,oe,v,r,O,k,t,h,f,u]),g=l.useCallback((H={},Q=null)=>i({...H,style:{visibility:k?"visible":"hidden",...H.style}},Q),[k,i]),L=l.useCallback((H,Q=null)=>({...H,ref:Me(Q,M,fe)}),[M,fe]),U=l.useRef(),F=l.useRef(),q=l.useCallback(H=>{M.current==null&&fe(H)},[fe]),W=l.useCallback((H={},Q=null)=>{const b={...H,ref:Me(V,Q,q),id:ve,"aria-haspopup":"dialog","aria-expanded":k,"aria-controls":le};return v===ft.click&&(b.onClick=xe(H.onClick,_)),v===ft.hover&&(b.onFocus=xe(H.onFocus,()=>{U.current===void 0&&I()}),b.onBlur=xe(H.onBlur,B=>{const Z=$n(B),m=!Rr(G.current,Z);k&&t&&m&&O()}),b.onKeyDown=xe(H.onKeyDown,B=>{B.key==="Escape"&&O()}),b.onMouseEnter=xe(H.onMouseEnter,()=>{Y.current=!0,U.current=window.setTimeout(()=>I(),d)}),b.onMouseLeave=xe(H.onMouseLeave,()=>{Y.current=!1,U.current&&(clearTimeout(U.current),U.current=void 0),F.current=window.setTimeout(()=>{Y.current===!1&&O()},h)})),b},[ve,k,le,v,q,_,I,t,O,d,h]);l.useEffect(()=>()=>{U.current&&clearTimeout(U.current),F.current&&clearTimeout(F.current)},[]);const z=l.useCallback((H={},Q=null)=>({...H,id:j,ref:Me(Q,b=>{X(!!b)})}),[j]),N=l.useCallback((H={},Q=null)=>({...H,id:oe,ref:Me(Q,b=>{de(!!b)})}),[oe]);return{forceUpdate:y,isOpen:k,onAnimationComplete:w.onComplete,onClose:O,getAnchorProps:L,getArrowProps:p,getArrowInnerProps:c,getPopoverPositionerProps:g,getPopoverProps:P,getTriggerProps:W,getHeaderProps:z,getBodyProps:N}}function Rr(e,t){return e===t||(e==null?void 0:e.contains(t))}function $n(e){var t;const r=e.currentTarget.ownerDocument.activeElement;return(t=e.relatedTarget)!=null?t:r}function Pi(e){const t=jr("Popover",e),{children:r,...n}=Zn(e),o=Jn(),a=Gl({...n,direction:o.direction});return E.jsx(zl,{value:a,children:E.jsx(Vl,{value:t,children:Qn(r,{isOpen:a.isOpen,onClose:a.onClose,forceUpdate:a.forceUpdate})})})}Pi.displayName="Popover";var Di=Ce(function(t,r){const{getBodyProps:n}=ur(),o=Oi();return E.jsx(Ee.div,{...n(t,r),className:ke("chakra-popover__body",t.className),__css:o.body})});Di.displayName="PopoverBody";function ql(e){if(e)return{enter:{...e.enter,visibility:"visible"},exit:{...e.exit,transitionEnd:{visibility:"hidden"}}}}var Yl={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},Kl=Ee(st.section),Li=Ce(function(t,r){const{variants:n=Yl,...o}=t,{isOpen:a}=ur();return E.jsx(Kl,{ref:r,variants:ql(n),initial:!1,animate:a?"enter":"exit",...o})});Li.displayName="PopoverTransition";var Ii=Ce(function(t,r){const{rootProps:n,motionProps:o,...a}=t,{getPopoverProps:s,getPopoverPositionerProps:u,onAnimationComplete:f}=ur(),v=Oi(),d={position:"relative",display:"flex",flexDirection:"column",...v.content};return E.jsx(Ee.div,{...u(n),__css:v.popper,className:"chakra-popover__popper",children:E.jsx(Li,{...o,...s(a,r),onAnimationComplete:eo(f,a.onAnimationComplete),className:ke("chakra-popover__content",t.className),__css:d})})});Ii.displayName="PopoverContent";var Xl=_r({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}),Zl=_r({displayName:"AttachmentIcon",d:"M21.843,3.455a6.961,6.961,0,0,0-9.846,0L1.619,13.832a5.128,5.128,0,0,0,7.252,7.252L17.3,12.653A3.293,3.293,0,1,0,12.646,8L7.457,13.184A1,1,0,1,0,8.871,14.6L14.06,9.409a1.294,1.294,0,0,1,1.829,1.83L7.457,19.67a3.128,3.128,0,0,1-4.424-4.424L13.411,4.869a4.962,4.962,0,1,1,7.018,7.018L12.646,19.67a1,1,0,1,0,1.414,1.414L21.843,13.3a6.96,6.96,0,0,0,0-9.846Z"}),Jl=_r({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Nr=function(e,t){return Nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},Nr(e,t)};function Ql(e,t){Nr(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Pt=function(){return Pt=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Pt.apply(this,arguments)};function ed(e,t,r,n){var o,a=!1,s=0;function u(){o&&clearTimeout(o)}function f(){u(),a=!0}typeof t!="boolean"&&(n=r,r=t,t=void 0);function v(){var d=this,h=Date.now()-s,C=arguments;if(a)return;function S(){s=Date.now(),r.apply(d,C)}function T(){o=void 0}n&&!o&&S(),u(),n===void 0&&h>e?S():t!==!0&&(o=setTimeout(n?T:S,n===void 0?e-h:e))}return v.cancel=f,v}var gt={Pixel:"Pixel",Percent:"Percent"},Hn={unit:gt.Percent,value:.8};function zn(e){return typeof e=="number"?{unit:gt.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:gt.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:gt.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),Hn):(console.warn("scrollThreshold should be string or number"),Hn)}var td=function(e){Ql(t,e);function t(r){var n=e.call(this,r)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:typeof n.props.scrollableTarget=="string"?document.getElementById(n.props.scrollableTarget):(n.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},n.onStart=function(o){n.lastScrollTop||(n.dragging=!0,o instanceof MouseEvent?n.startY=o.pageY:o instanceof TouchEvent&&(n.startY=o.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(o){n.dragging&&(o instanceof MouseEvent?n.currentY=o.pageY:o instanceof TouchEvent&&(n.currentY=o.touches[0].pageY),!(n.currentY<n.startY)&&(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),!(n.currentY-n.startY>n.maxPullDownDistance*1.5)&&n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")})},n.onScrollListener=function(o){typeof n.props.onScroll=="function"&&setTimeout(function(){return n.props.onScroll&&n.props.onScroll(o)},0);var a=n.props.height||n._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!n.actionTriggered){var s=n.props.inverse?n.isElementAtTop(a,n.props.scrollThreshold):n.isElementAtBottom(a,n.props.scrollThreshold);s&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=a.scrollTop}},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:r.dataLength},n.throttledOnScrollListener=ed(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return t.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(r){this.props.dataLength!==r.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(r,n){var o=r.dataLength!==n.prevDataLength;return o?Pt(Pt({},n),{prevDataLength:r.dataLength}):null},t.prototype.isElementAtTop=function(r,n){n===void 0&&(n=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,a=zn(n);return a.unit===gt.Pixel?r.scrollTop<=a.value+o-r.scrollHeight+1:r.scrollTop<=a.value/100+o-r.scrollHeight+1},t.prototype.isElementAtBottom=function(r,n){n===void 0&&(n=.8);var o=r===document.body||r===document.documentElement?window.screen.availHeight:r.clientHeight,a=zn(n);return a.unit===gt.Pixel?r.scrollTop+o>=r.scrollHeight-a.value:r.scrollTop+o>=a.value/100*r.scrollHeight},t.prototype.render=function(){var r=this,n=Pt({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),a=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return pt.createElement("div",{style:a,className:"infinite-scroll-component__outerdiv"},pt.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(s){return r._infScroll=s},style:n},this.props.pullDownToRefresh&&pt.createElement("div",{style:{position:"relative"},ref:function(s){return r._pullDown=s}},pt.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(l.Component);/**
 * @license lucide-react v0.429.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fi=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.429.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.429.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=l.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:s,...u},f)=>l.createElement("svg",{ref:f,...nd,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Fi("lucide",o),...u},[...s.map(([v,d])=>l.createElement(v,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.429.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=(e,t)=>{const r=l.forwardRef(({className:n,...o},a)=>l.createElement(od,{ref:a,iconNode:t,className:Fi(`lucide-${rd(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.429.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=id("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var Bi={exports:{}};(function(e){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function t(p,i){if(!p)throw"First parameter is required.";i=i||{type:"video"},i=new r(p,i);var c=this;function y(b){return i.disableLogs||console.log("RecordRTC version: ",c.version),b&&(i=new r(p,b)),i.disableLogs||console.log("started recording "+i.type+" stream."),N?(N.clearRecordedData(),N.record(),q("recording"),c.recordingDuration&&F(),c):(w(function(){c.recordingDuration&&F()}),c)}function w(b){b&&(i.initCallback=function(){b(),b=i.initCallback=null});var B=new n(p,i);N=new B(p,i),N.record(),q("recording"),i.disableLogs||console.log("Initialized recorderType:",N.constructor.name,"for output-type:",i.type)}function x(b){if(b=b||function(){},!N){z();return}if(c.state==="paused"){c.resumeRecording(),setTimeout(function(){x(b)},1);return}c.state!=="recording"&&!i.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',c.state),i.disableLogs||console.log("Stopped recording "+i.type+" stream."),i.type!=="gif"?N.stop(B):(N.stop(),B()),q("stopped");function B(Z){if(!N){typeof b.call=="function"?b.call(c,""):b("");return}Object.keys(N).forEach(function(J){typeof N[J]!="function"&&(c[J]=N[J])});var m=N.blob;if(!m)if(Z)N.blob=m=Z;else throw"Recording failed.";if(m&&!i.disableLogs&&console.log(m.type,"->",O(m.size)),b){var A;try{A=d.createObjectURL(m)}catch{}typeof b.call=="function"?b.call(c,A):b(A)}i.autoWriteToDisk&&U(function(J){var te={};te[i.type+"Blob"]=J,ce.Store(te)})}}function P(){if(!N){z();return}if(c.state!=="recording"){i.disableLogs||console.warn("Unable to pause the recording. Recording state: ",c.state);return}q("paused"),N.pause(),i.disableLogs||console.log("Paused recording.")}function g(){if(!N){z();return}if(c.state!=="paused"){i.disableLogs||console.warn("Unable to resume the recording. Recording state: ",c.state);return}q("recording"),N.resume(),i.disableLogs||console.log("Resumed recording.")}function L(b){postMessage(new FileReaderSync().readAsDataURL(b))}function U(b,B){if(!b)throw"Pass a callback function over getDataURL.";var Z=B?B.blob:(N||{}).blob;if(!Z){i.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){U(b,B)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var m=J(L);m.onmessage=function(te){b(te.data)},m.postMessage(Z)}else{var A=new FileReader;A.readAsDataURL(Z),A.onload=function(te){b(te.target.result)}}function J(te){try{var ue=d.createObjectURL(new Blob([te.toString(),"this.onmessage =  function (eee) {"+te.name+"(eee.data);}"],{type:"application/javascript"})),ie=new Worker(ue);return d.revokeObjectURL(ue),ie}catch{}}}function F(b){if(b=b||0,c.state==="paused"){setTimeout(function(){F(b)},1e3);return}if(c.state!=="stopped"){if(b>=c.recordingDuration){x(c.onRecordingStopped);return}b+=1e3,setTimeout(function(){F(b)},1e3)}}function q(b){c&&(c.state=b,typeof c.onStateChanged.call=="function"?c.onStateChanged.call(c,b):c.onStateChanged(b))}var W='It seems that recorder is destroyed or "startRecording" is not invoked for '+i.type+" recorder.";function z(){i.disableLogs!==!0&&console.warn(W)}var N,H={startRecording:y,stopRecording:x,pauseRecording:P,resumeRecording:g,initRecorder:w,setRecordingDuration:function(b,B){if(typeof b>"u")throw"recordingDuration is required.";if(typeof b!="number")throw"recordingDuration must be a number.";return c.recordingDuration=b,c.onRecordingStopped=B||function(){},{onRecordingStopped:function(Z){c.onRecordingStopped=Z}}},clearRecordedData:function(){if(!N){z();return}N.clearRecordedData(),i.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!N){z();return}return N.blob},getDataURL:U,toURL:function(){if(!N){z();return}return d.createObjectURL(N.blob)},getInternalRecorder:function(){return N},save:function(b){if(!N){z();return}I(N.blob,b)},getFromDisk:function(b){if(!N){z();return}t.getFromDisk(i.type,b)},setAdvertisementArray:function(b){i.advertisement=[];for(var B=b.length,Z=0;Z<B;Z++)i.advertisement.push({duration:Z,image:b[Z]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){c.state==="recording"&&!i.disableLogs&&console.warn("Stop an active recorder."),N&&typeof N.clearRecordedData=="function"&&N.clearRecordedData(),N=null,q("inactive"),c.blob=null},onStateChanged:function(b){i.disableLogs||console.log("Recorder state changed:",b)},state:"inactive",getState:function(){return c.state},destroy:function(){var b=i.disableLogs;i={disableLogs:!0},c.reset(),q("destroyed"),H=c=null,Y.AudioContextConstructor&&(Y.AudioContextConstructor.close(),Y.AudioContextConstructor=null),i.disableLogs=b,i.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return c=H,H;for(var Q in H)this[Q]=H[Q];return c=this,H}t.version="5.6.2",e.exports=t,t.getFromDisk=function(p,i){if(!i)throw"callback is mandatory.";console.log("Getting recorded "+(p==="all"?"blobs":p+" blob ")+" from disk!"),ce.Fetch(function(c,y){p!=="all"&&y===p+"Blob"&&i&&i(c),p==="all"&&i&&i(c,y.replace("Blob",""))})},t.writeToDisk=function(p){console.log("Writing recorded blob(s) to disk!"),p=p||{},p.audio&&p.video&&p.gif?p.audio.getDataURL(function(i){p.video.getDataURL(function(c){p.gif.getDataURL(function(y){ce.Store({audioBlob:i,videoBlob:c,gifBlob:y})})})}):p.audio&&p.video?p.audio.getDataURL(function(i){p.video.getDataURL(function(c){ce.Store({audioBlob:i,videoBlob:c})})}):p.audio&&p.gif?p.audio.getDataURL(function(i){p.gif.getDataURL(function(c){ce.Store({audioBlob:i,gifBlob:c})})}):p.video&&p.gif?p.video.getDataURL(function(i){p.gif.getDataURL(function(c){ce.Store({videoBlob:i,gifBlob:c})})}):p.audio?p.audio.getDataURL(function(i){ce.Store({audioBlob:i})}):p.video?p.video.getDataURL(function(i){ce.Store({videoBlob:i})}):p.gif&&p.gif.getDataURL(function(i){ce.Store({gifBlob:i})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function r(p,i){return!i.recorderType&&!i.type&&(i.audio&&i.video?i.type="video":i.audio&&!i.video&&(i.type="audio")),i.recorderType&&!i.type&&(i.recorderType===de||i.recorderType===ne||typeof fe<"u"&&i.recorderType===fe?i.type="video":i.recorderType===ve?i.type="gif":i.recorderType===X?i.type="audio":i.recorderType===K&&(M(p,"audio").length&&M(p,"video").length||!M(p,"audio").length&&M(p,"video").length?i.type="video":M(p,"audio").length&&!M(p,"video").length&&(i.type="audio"))),typeof K<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(i.mimeType||(i.mimeType="video/webm"),i.type||(i.type=i.mimeType.split("/")[0]),i.bitsPerSecond),i.type||(i.mimeType&&(i.type=i.mimeType.split("/")[0]),i.type||(i.type="audio")),i}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function n(p,i){var c;return(T||h||C)&&(c=X),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!T&&(c=K),i.type==="video"&&(T||C)&&(c=de,typeof fe<"u"&&typeof ReadableStream<"u"&&(c=fe)),i.type==="gif"&&(c=ve),i.type==="canvas"&&(c=ne),ee()&&c!==ne&&c!==ve&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(M(p,"video").length||M(p,"audio").length)&&(i.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(c=K):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(c=K)),p instanceof Array&&p.length&&(c=j),i.recorderType&&(c=i.recorderType),!i.disableLogs&&c&&c.name&&console.log("Using recorderType:",c.name||c.constructor.name),!c&&R&&(c=K),c}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function o(p){this.addStream=function(i){i&&(p=i)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var i=this.mediaType,c,y=this.mimeType||{audio:null,video:null,gif:null};if(typeof i.audio!="function"&&ee()&&!M(p,"audio").length&&(i.audio=!1),typeof i.video!="function"&&ee()&&!M(p,"video").length&&(i.video=!1),typeof i.gif!="function"&&ee()&&!M(p,"video").length&&(i.gif=!1),!i.audio&&!i.video&&!i.gif)throw"MediaStream must have either audio or video tracks.";if(i.audio&&(c=null,typeof i.audio=="function"&&(c=i.audio),this.audioRecorder=new t(p,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:c,mimeType:y.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),i.video||this.audioRecorder.startRecording()),i.video){c=null,typeof i.video=="function"&&(c=i.video);var w=p;if(ee()&&i.audio&&typeof i.audio=="function"){var x=M(p,"video")[0];S?(w=new k,w.addTrack(x),c&&c===de&&(c=K)):(w=new k,w.addTrack(x))}this.videoRecorder=new t(w,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:c,mimeType:y.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),i.audio||this.videoRecorder.startRecording()}if(i.audio&&i.video){var P=this,g=ee()===!0;(i.audio instanceof X&&i.video||i.audio!==!0&&i.video!==!0&&i.audio!==i.video)&&(g=!1),g===!0?(P.audioRecorder=null,P.videoRecorder.startRecording()):P.videoRecorder.initRecorder(function(){P.audioRecorder.initRecorder(function(){P.videoRecorder.startRecording(),P.audioRecorder.startRecording()})})}i.gif&&(c=null,typeof i.gif=="function"&&(c=i.gif),this.gifRecorder=new t(p,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:c,mimeType:y.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(i){i=i||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(c){i(c,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(c){i(c,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(c){i(c,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(i){var c={};return this.audioRecorder&&(c.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(c.video=this.videoRecorder.getBlob()),this.gifRecorder&&(c.gif=this.gifRecorder.getBlob()),i&&i(c),c},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(i){this.getBlob(function(w){w.audio&&w.video?c(w.audio,function(x){c(w.video,function(P){i({audio:x,video:P})})}):w.audio?c(w.audio,function(x){i({audio:x})}):w.video&&c(w.video,function(x){i({video:x})})});function c(w,x){if(typeof Worker<"u"){var P=y(function(U){postMessage(new FileReaderSync().readAsDataURL(U))});P.onmessage=function(L){x(L.data)},P.postMessage(w)}else{var g=new FileReader;g.readAsDataURL(w),g.onload=function(L){x(L.target.result)}}}function y(w){var x=d.createObjectURL(new Blob([w.toString(),"this.onmessage =  function (eee) {"+w.name+"(eee.data);}"],{type:"application/javascript"})),P=new Worker(x),g;if(typeof d<"u")g=d;else if(typeof webkitURL<"u")g=webkitURL;else throw"Neither URL nor webkitURL detected.";return g.revokeObjectURL(x),P}},this.writeToDisk=function(){t.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(i){i=i||{audio:!0,video:!0,gif:!0},i.audio&&this.audioRecorder&&this.audioRecorder.save(typeof i.audio=="string"?i.audio:""),i.video&&this.videoRecorder&&this.videoRecorder.save(typeof i.video=="string"?i.video:""),i.gif&&this.gifRecorder&&this.gifRecorder.save(typeof i.gif=="string"?i.gif:"")}}o.getFromDisk=t.getFromDisk,o.writeToDisk=t.writeToDisk,typeof t<"u"&&(t.MRecordRTC=o);var a="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(p){p&&(typeof window<"u"||typeof me>"u"||(me.navigator={userAgent:a,getUserMedia:function(){}},me.console||(me.console={}),(typeof me.console.log>"u"||typeof me.console.error>"u")&&(me.console.error=me.console.log=me.console.log||function(){console.log(arguments)}),typeof document>"u"&&(p.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var i={getContext:function(){return i},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return i},p.HTMLVideoElement=function(){}),typeof location>"u"&&(p.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(p.screen={width:0,height:0}),typeof d>"u"&&(p.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),p.window=me))})(typeof me<"u"?me:null);var s=window.requestAnimationFrame;if(typeof s>"u"){if(typeof webkitRequestAnimationFrame<"u")s=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")s=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")s=msRequestAnimationFrame;else if(typeof s>"u"){var u=0;s=function(p,i){var c=new Date().getTime(),y=Math.max(0,16-(c-u)),w=setTimeout(function(){p(c+y)},y);return u=c+y,w}}}var f=window.cancelAnimationFrame;typeof f>"u"&&(typeof webkitCancelAnimationFrame<"u"?f=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?f=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?f=msCancelAnimationFrame:typeof f>"u"&&(f=function(p){clearTimeout(p)}));var v=window.AudioContext;typeof v>"u"&&(typeof webkitAudioContext<"u"&&(v=webkitAudioContext),typeof mozAudioContext<"u"&&(v=mozAudioContext));var d=window.URL;typeof d>"u"&&typeof webkitURL<"u"&&(d=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var h=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),C=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,S=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),T=!C&&!h&&!!navigator.webkitGetUserMedia||_()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,R=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);R&&!T&&navigator.userAgent.indexOf("CriOS")!==-1&&(R=!1,T=!0);var k=window.MediaStream;typeof k>"u"&&typeof webkitMediaStream<"u"&&(k=webkitMediaStream),typeof k<"u"&&typeof k.prototype.stop>"u"&&(k.prototype.stop=function(){this.getTracks().forEach(function(p){p.stop()})});function O(p){var i=1e3,c=["Bytes","KB","MB","GB","TB"];if(p===0)return"0 Bytes";var y=parseInt(Math.floor(Math.log(p)/Math.log(i)),10);return(p/Math.pow(i,y)).toPrecision(3)+" "+c[y]}function I(p,i){if(!p)throw"Blob object is required.";if(!p.type)try{p.type="video/webm"}catch{}var c=(p.type||"video/webm").split("/")[1];if(c.indexOf(";")!==-1&&(c=c.split(";")[0]),i&&i.indexOf(".")!==-1){var y=i.split(".");i=y[0],c=y[1]}var w=(i||Math.round(Math.random()*9999999999)+888888888)+"."+c;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(p,w);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(p,w);var x=document.createElement("a");x.href=d.createObjectURL(p),x.download=w,x.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(x),typeof x.click=="function"?x.click():(x.target="_blank",x.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),d.revokeObjectURL(x.href)}function _(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function M(p,i){return!p||!p.getTracks?[]:p.getTracks().filter(function(c){return c.kind===(i||"audio")})}function V(p,i){"srcObject"in i?i.srcObject=p:"mozSrcObject"in i?i.mozSrcObject=p:i.srcObject=p}function G(p,i){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var c=new EBML.Reader,y=new EBML.Decoder,w=EBML.tools,x=new FileReader;x.onload=function(P){var g=y.decode(this.result);g.forEach(function(q){c.read(q)}),c.stop();var L=w.makeMetadataSeekable(c.metadatas,c.duration,c.cues),U=this.result.slice(c.metadataSize),F=new Blob([L,U],{type:"video/webm"});i(F)},x.readAsArrayBuffer(p)}typeof t<"u"&&(t.invokeSaveAsDialog=I,t.getTracks=M,t.getSeekableBlob=G,t.bytesToSize=O,t.isElectron=_);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var Y={};typeof v<"u"?Y.AudioContext=v:typeof webkitAudioContext<"u"&&(Y.AudioContext=webkitAudioContext),typeof t<"u"&&(t.Storage=Y);function ee(){if(S||R||h)return!0;var p=navigator.userAgent,i=""+parseFloat(navigator.appVersion),c=parseInt(navigator.appVersion,10),y,w;return(T||C)&&(y=p.indexOf("Chrome"),i=p.substring(y+7)),(w=i.indexOf(";"))!==-1&&(i=i.substring(0,w)),(w=i.indexOf(" "))!==-1&&(i=i.substring(0,w)),c=parseInt(""+i,10),isNaN(c)&&(i=""+parseFloat(navigator.appVersion),c=parseInt(navigator.appVersion,10)),c>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function K(p,i){var F=this;if(typeof p>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(i=i||{mimeType:"video/webm"},i.type==="audio"){if(M(p,"video").length&&M(p,"audio").length){var c;navigator.mozGetUserMedia?(c=new k,c.addTrack(M(p,"audio")[0])):c=new k(M(p,"audio")),p=c}(!i.mimeType||i.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(i.mimeType=T?"audio/webm":"audio/ogg"),i.mimeType&&i.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(i.mimeType="audio/ogg")}var y=[];this.getArrayOfBlobs=function(){return y},this.record=function(){F.blob=null,F.clearRecordedData(),F.timestamps=[],U=[],y=[];var q=i;i.disableLogs||console.log("Passing following config over MediaRecorder API.",q),g&&(g=null),T&&!ee()&&(q="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&q.mimeType&&(MediaRecorder.isTypeSupported(q.mimeType)||(i.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",q.mimeType),q.mimeType=i.type==="audio"?"audio/webm":"video/webm"));try{g=new MediaRecorder(p,q),i.mimeType=q.mimeType}catch{g=new MediaRecorder(p)}q.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in g&&g.canRecordMimeType(q.mimeType)===!1&&(i.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",q.mimeType)),g.ondataavailable=function(W){if(W.data&&U.push("ondataavailable: "+O(W.data.size)),typeof i.timeSlice=="number"){if(W.data&&W.data.size&&(y.push(W.data),w(),typeof i.ondataavailable=="function")){var z=i.getNativeBlob?W.data:new Blob([W.data],{type:x(q)});i.ondataavailable(z)}return}if(!W.data||!W.data.size||W.data.size<100||F.blob){F.recordingCallback&&(F.recordingCallback(new Blob([],{type:x(q)})),F.recordingCallback=null);return}F.blob=i.getNativeBlob?W.data:new Blob([W.data],{type:x(q)}),F.recordingCallback&&(F.recordingCallback(F.blob),F.recordingCallback=null)},g.onstart=function(){U.push("started")},g.onpause=function(){U.push("paused")},g.onresume=function(){U.push("resumed")},g.onstop=function(){U.push("stopped")},g.onerror=function(W){W&&(W.name||(W.name="UnknownError"),U.push("error: "+W),i.disableLogs||(W.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",W):W.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",q.mimeType,") is not supported.",W):W.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",W):W.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",W):W.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",W):W.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",W):W.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",W):console.error("MediaRecorder Error",W)),function(z){if(!F.manuallyStopped&&g&&g.state==="inactive"){delete i.timeslice,g.start(10*60*1e3);return}setTimeout(z,1e3)}(),g.state!=="inactive"&&g.state!=="stopped"&&g.stop())},typeof i.timeSlice=="number"?(w(),g.start(i.timeSlice)):g.start(36e5),i.initCallback&&i.initCallback()},this.timestamps=[];function w(){F.timestamps.push(new Date().getTime()),typeof i.onTimeStamp=="function"&&i.onTimeStamp(F.timestamps[F.timestamps.length-1],F.timestamps)}function x(q){return g&&g.mimeType?g.mimeType:q.mimeType||"video/webm"}this.stop=function(q){q=q||function(){},F.manuallyStopped=!0,g&&(this.recordingCallback=q,g.state==="recording"&&g.stop(),typeof i.timeSlice=="number"&&setTimeout(function(){F.blob=new Blob(y,{type:x(i)}),F.recordingCallback(F.blob)},100))},this.pause=function(){g&&g.state==="recording"&&g.pause()},this.resume=function(){g&&g.state==="paused"&&g.resume()},this.clearRecordedData=function(){g&&g.state==="recording"&&F.stop(P),P()};function P(){y=[],g=null,F.timestamps=[]}var g;this.getInternalRecorder=function(){return g};function L(){if("active"in p){if(!p.active)return!1}else if("ended"in p&&p.ended)return!1;return!0}this.blob=null,this.getState=function(){return g&&g.state||"inactive"};var U=[];this.getAllStates=function(){return U},typeof i.checkForInactiveTracks>"u"&&(i.checkForInactiveTracks=!1);var F=this;(function q(){if(!(!g||i.checkForInactiveTracks===!1)){if(L()===!1){i.disableLogs||console.log("MediaStream seems stopped."),F.stop();return}setTimeout(q,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof t<"u"&&(t.MediaStreamRecorder=K);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function X(p,i){if(!M(p,"audio").length)throw"Your stream has no audio tracks.";i=i||{};var c=this,y=[],w=[],x=!1,P=0,g,L=2,U=i.desiredSampRate;i.leftChannel===!0&&(L=1),i.numberOfAudioChannels===1&&(L=1),(!L||L<1)&&(L=2),i.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+L),typeof i.checkForInactiveTracks>"u"&&(i.checkForInactiveTracks=!0);function F(){if(i.checkForInactiveTracks===!1)return!0;if("active"in p){if(!p.active)return!1}else if("ended"in p&&p.ended)return!1;return!0}this.record=function(){if(F()===!1)throw"Please make sure MediaStream is active.";Z(),A=B=!1,x=!0,typeof i.timeSlice<"u"&&ue()};function q(ie,$){function D(re,he){var pe=re.numberOfAudioChannels,ye=re.leftBuffers.slice(0),Pe=re.rightBuffers.slice(0),Ie=re.sampleRate,Ve=re.internalInterleavedLength,Ue=re.desiredSampRate;pe===2&&(ye=cr(ye,Ve),Pe=cr(Pe,Ve),Ue&&(ye=St(ye,Ue,Ie),Pe=St(Pe,Ue,Ie))),pe===1&&(ye=cr(ye,Ve),Ue&&(ye=St(ye,Ue,Ie))),Ue&&(Ie=Ue);function St(we,We,Fe){var Be=Math.round(we.length*(We/Fe)),Te=[],Ge=Number((we.length-1)/(Be-1));Te[0]=we[0];for(var Je=1;Je<Be-1;Je++){var fr=Je*Ge,cn=Number(Math.floor(fr)).toFixed(),Hi=Number(Math.ceil(fr)).toFixed(),zi=fr-cn;Te[Je]=ji(we[cn],we[Hi],zi)}return Te[Be-1]=we[we.length-1],Te}function ji(we,We,Fe){return we+(We-we)*Fe}function cr(we,We){for(var Fe=new Float64Array(We),Be=0,Te=we.length,Ge=0;Ge<Te;Ge++){var Je=we[Ge];Fe.set(Je,Be),Be+=Je.length}return Fe}function _i(we,We){for(var Fe=we.length+We.length,Be=new Float64Array(Fe),Te=0,Ge=0;Ge<Fe;)Be[Ge++]=we[Te],Be[Ge++]=We[Te],Te++;return Be}function $t(we,We,Fe){for(var Be=Fe.length,Te=0;Te<Be;Te++)we.setUint8(We+Te,Fe.charCodeAt(Te))}var Ht;pe===2&&(Ht=_i(ye,Pe)),pe===1&&(Ht=ye);var zt=Ht.length,Ui=44+zt*2,lr=new ArrayBuffer(Ui),Re=new DataView(lr);$t(Re,0,"RIFF"),Re.setUint32(4,36+zt*2,!0),$t(Re,8,"WAVE"),$t(Re,12,"fmt "),Re.setUint32(16,16,!0),Re.setUint16(20,1,!0),Re.setUint16(22,pe,!0),Re.setUint32(24,Ie,!0),Re.setUint32(28,Ie*pe*2,!0),Re.setUint16(32,pe*2,!0),Re.setUint16(34,16,!0),$t(Re,36,"data"),Re.setUint32(40,zt*2,!0);for(var Wi=zt,un=44,$i=1,dr=0;dr<Wi;dr++)Re.setInt16(un,Ht[dr]*(32767*$i),!0),un+=2;if(he)return he({buffer:lr,view:Re});postMessage({buffer:lr,view:Re})}if(ie.noWorker){D(ie,function(re){$(re.buffer,re.view)});return}var ae=W(D);ae.onmessage=function(re){$(re.data.buffer,re.data.view),d.revokeObjectURL(ae.workerURL),ae.terminate()},ae.postMessage(ie)}function W(ie){var $=d.createObjectURL(new Blob([ie.toString(),";this.onmessage =  function (eee) {"+ie.name+"(eee.data);}"],{type:"application/javascript"})),D=new Worker($);return D.workerURL=$,D}this.stop=function(ie){ie=ie||function(){},x=!1,q({desiredSampRate:U,sampleRate:b,numberOfAudioChannels:L,internalInterleavedLength:P,leftBuffers:y,rightBuffers:L===1?[]:w,noWorker:i.noWorker},function($,D){c.blob=new Blob([D],{type:"audio/wav"}),c.buffer=new ArrayBuffer(D.buffer.byteLength),c.view=D,c.sampleRate=U||b,c.bufferSize=Q,c.length=P,A=!1,ie&&ie(c.blob)})},typeof t.Storage>"u"&&(t.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!t.Storage.AudioContextConstructor||t.Storage.AudioContextConstructor.state==="closed")&&(t.Storage.AudioContextConstructor=new t.Storage.AudioContext);var z=t.Storage.AudioContextConstructor,N=z.createMediaStreamSource(p),H=[0,256,512,1024,2048,4096,8192,16384],Q=typeof i.bufferSize>"u"?4096:i.bufferSize;if(H.indexOf(Q)===-1&&(i.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(H,null,"	"))),z.createJavaScriptNode)g=z.createJavaScriptNode(Q,L,L);else if(z.createScriptProcessor)g=z.createScriptProcessor(Q,L,L);else throw"WebAudio API has no support on this browser.";N.connect(g),i.bufferSize||(Q=g.bufferSize);var b=typeof i.sampleRate<"u"?i.sampleRate:z.sampleRate||44100;(b<22050||b>96e3)&&(i.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),i.disableLogs||i.desiredSampRate&&console.log("Desired sample-rate: "+i.desiredSampRate);var B=!1;this.pause=function(){B=!0},this.resume=function(){if(F()===!1)throw"Please make sure MediaStream is active.";if(!x){i.disableLogs||console.log("Seems recording has been restarted."),this.record();return}B=!1},this.clearRecordedData=function(){i.checkForInactiveTracks=!1,x&&this.stop(m),m()};function Z(){y=[],w=[],P=0,A=!1,x=!1,B=!1,z=null,c.leftchannel=y,c.rightchannel=w,c.numberOfAudioChannels=L,c.desiredSampRate=U,c.sampleRate=b,c.recordingLength=P,te={left:[],right:[],recordingLength:0}}function m(){g&&(g.onaudioprocess=null,g.disconnect(),g=null),N&&(N.disconnect(),N=null),Z()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var A=!1;function J(ie){if(!B){if(F()===!1&&(i.disableLogs||console.log("MediaStream seems stopped."),g.disconnect(),x=!1),!x){N&&(N.disconnect(),N=null);return}A||(A=!0,i.onAudioProcessStarted&&i.onAudioProcessStarted(),i.initCallback&&i.initCallback());var $=ie.inputBuffer.getChannelData(0),D=new Float32Array($);if(y.push(D),L===2){var ae=ie.inputBuffer.getChannelData(1),re=new Float32Array(ae);w.push(re)}P+=Q,c.recordingLength=P,typeof i.timeSlice<"u"&&(te.recordingLength+=Q,te.left.push(D),L===2&&te.right.push(re))}}g.onaudioprocess=J,z.createMediaStreamDestination?g.connect(z.createMediaStreamDestination()):g.connect(z.destination),this.leftchannel=y,this.rightchannel=w,this.numberOfAudioChannels=L,this.desiredSampRate=U,this.sampleRate=b,c.recordingLength=P;var te={left:[],right:[],recordingLength:0};function ue(){!x||typeof i.ondataavailable!="function"||typeof i.timeSlice>"u"||(te.left.length?(q({desiredSampRate:U,sampleRate:b,numberOfAudioChannels:L,internalInterleavedLength:te.recordingLength,leftBuffers:te.left,rightBuffers:L===1?[]:te.right},function(ie,$){var D=new Blob([$],{type:"audio/wav"});i.ondataavailable(D),setTimeout(ue,i.timeSlice)}),te={left:[],right:[],recordingLength:0}):setTimeout(ue,i.timeSlice))}}typeof t<"u"&&(t.StereoAudioRecorder=X);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function ne(p,i){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";i=i||{},i.frameInterval||(i.frameInterval=10);var c=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(H){H in document.createElement("canvas")&&(c=!0)});var y=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,w=50,x=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);y&&x&&x[2]&&(w=parseInt(x[2],10)),y&&w<52&&(c=!1),i.useWhammyRecorder&&(c=!1);var P,g;if(c)if(i.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),p instanceof HTMLCanvasElement)P=p;else if(p instanceof CanvasRenderingContext2D)P=p.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(i.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var L;this.record=function(){if(L=!0,c&&!i.useWhammyRecorder){var H;"captureStream"in P?H=P.captureStream(25):"mozCaptureStream"in P?H=P.mozCaptureStream(25):"webkitCaptureStream"in P&&(H=P.webkitCaptureStream(25));try{var Q=new k;Q.addTrack(M(H,"video")[0]),H=Q}catch{}if(!H)throw"captureStream API are NOT available.";g=new K(H,{mimeType:i.mimeType||"video/webm"}),g.record()}else N.frames=[],z=new Date().getTime(),W();i.initCallback&&i.initCallback()},this.getWebPImages=function(H){if(p.nodeName.toLowerCase()!=="canvas"){H();return}var Q=N.frames.length;N.frames.forEach(function(b,B){var Z=Q-B;i.disableLogs||console.log(Z+"/"+Q+" frames remaining"),i.onEncodingCallback&&i.onEncodingCallback(Z,Q);var m=b.image.toDataURL("image/webp",1);N.frames[B].image=m}),i.disableLogs||console.log("Generating WebM"),H()},this.stop=function(H){L=!1;var Q=this;if(c&&g){g.stop(H);return}this.getWebPImages(function(){N.compile(function(b){i.disableLogs||console.log("Recording finished!"),Q.blob=b,Q.blob.forEach&&(Q.blob=new Blob([],{type:"video/webm"})),H&&H(Q.blob),N.frames=[]})})};var U=!1;this.pause=function(){if(U=!0,g instanceof K){g.pause();return}},this.resume=function(){if(U=!1,g instanceof K){g.resume();return}L||this.record()},this.clearRecordedData=function(){L&&this.stop(F),F()};function F(){N.frames=[],L=!1,U=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function q(){var H=document.createElement("canvas"),Q=H.getContext("2d");return H.width=p.width,H.height=p.height,Q.drawImage(p,0,0),H}function W(){if(U)return z=new Date().getTime(),setTimeout(W,500);if(p.nodeName.toLowerCase()==="canvas"){var H=new Date().getTime()-z;z=new Date().getTime(),N.frames.push({image:q(),duration:H}),L&&setTimeout(W,i.frameInterval);return}html2canvas(p,{grabMouse:typeof i.showMousePointer>"u"||i.showMousePointer,onrendered:function(Q){var b=new Date().getTime()-z;if(!b)return setTimeout(W,i.frameInterval);z=new Date().getTime(),N.frames.push({image:Q.toDataURL("image/webp",1),duration:b}),L&&setTimeout(W,i.frameInterval)}})}var z=new Date().getTime(),N=new se.Video(100)}typeof t<"u"&&(t.CanvasRecorder=ne);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function de(p,i){i=i||{},i.frameInterval||(i.frameInterval=10),i.disableLogs||console.log("Using frames-interval:",i.frameInterval),this.record=function(){i.width||(i.width=320),i.height||(i.height=240),i.video||(i.video={width:i.width,height:i.height}),i.canvas||(i.canvas={width:i.width,height:i.height}),L.width=i.canvas.width||320,L.height=i.canvas.height||240,U=L.getContext("2d"),i.video&&i.video instanceof HTMLVideoElement?(F=i.video.cloneNode(),i.initCallback&&i.initCallback()):(F=document.createElement("video"),V(p,F),F.onloadedmetadata=function(){i.initCallback&&i.initCallback()},F.width=i.video.width,F.height=i.video.height),F.muted=!0,F.play(),q=new Date().getTime(),W=new se.Video,i.disableLogs||(console.log("canvas resolutions",L.width,"*",L.height),console.log("video width/height",F.width||L.width,"*",F.height||L.height)),c(i.frameInterval)};function c(z){z=typeof z<"u"?z:10;var N=new Date().getTime()-q;if(!N)return setTimeout(c,z,z);if(P)return q=new Date().getTime(),setTimeout(c,100);q=new Date().getTime(),F.paused&&F.play(),U.drawImage(F,0,0,L.width,L.height),W.frames.push({duration:N,image:L.toDataURL("image/webp")}),x||setTimeout(c,z,z)}function y(z){var N=-1,H=z.length;(function Q(){if(N++,N===H){z.callback();return}setTimeout(function(){z.functionToLoop(Q,N)},1)})()}function w(z,N,H,Q,b){var B=document.createElement("canvas");B.width=L.width,B.height=L.height;var Z=B.getContext("2d"),m=[],A=z.length,J={r:0,g:0,b:0},te=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),ue=0,ie=0,$=!1;y({length:A,functionToLoop:function(D,ae){var re,he,pe,ye=function(){!$&&pe-re<=pe*ie||($=!0,m.push(z[ae])),D()};if($)ye();else{var Pe=new Image;Pe.onload=function(){Z.drawImage(Pe,0,0,L.width,L.height);var Ie=Z.getImageData(0,0,L.width,L.height);re=0,he=Ie.data.length,pe=Ie.data.length/4;for(var Ve=0;Ve<he;Ve+=4){var Ue={r:Ie.data[Ve],g:Ie.data[Ve+1],b:Ie.data[Ve+2]},St=Math.sqrt(Math.pow(Ue.r-J.r,2)+Math.pow(Ue.g-J.g,2)+Math.pow(Ue.b-J.b,2));St<=te*ue&&re++}ye()},Pe.src=z[ae].image}},callback:function(){m=m.concat(z.slice(A)),m.length<=0&&m.push(z[z.length-1]),b(m)}})}var x=!1;this.stop=function(z){z=z||function(){},x=!0;var N=this;setTimeout(function(){w(W.frames,-1,null,null,function(H){W.frames=H,i.advertisement&&i.advertisement.length&&(W.frames=i.advertisement.concat(W.frames)),W.compile(function(Q){N.blob=Q,N.blob.forEach&&(N.blob=new Blob([],{type:"video/webm"})),z&&z(N.blob)})})},10)};var P=!1;this.pause=function(){P=!0},this.resume=function(){P=!1,x&&this.record()},this.clearRecordedData=function(){x||this.stop(g),g()};function g(){W.frames=[],x=!0,P=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var L=document.createElement("canvas"),U=L.getContext("2d"),F,q,W}typeof t<"u"&&(t.WhammyRecorder=de);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var se=function(){function p(y){this.frames=[],this.duration=y||1,this.quality=.8}p.prototype.add=function(y,w){if("canvas"in y&&(y=y.canvas),"toDataURL"in y&&(y=y.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(y))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:y,duration:w||this.duration})};function i(y){var w=d.createObjectURL(new Blob([y.toString(),"this.onmessage =  function (eee) {"+y.name+"(eee.data);}"],{type:"application/javascript"})),x=new Worker(w);return d.revokeObjectURL(w),x}function c(y){function w(b){var B=P(b);if(!B)return[];for(var Z=3e4,m=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:H(B.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:B.width,id:176},{data:B.height,id:186}]}]}]}]}],A=0,J=0;A<b.length;){var te=[],ue=0;do te.push(b[A]),ue+=b[A].duration,A++;while(A<b.length&&ue<Z);var ie=0,$={id:524531317,data:x(J,ie,te)};m[1].data.push($),J+=ue}return F(m)}function x(b,B,Z){return[{data:b,id:231}].concat(Z.map(function(m){var A=q({discardable:0,frame:m.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(B)});return B+=m.duration,{data:A,id:163}}))}function P(b){if(!b[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var B=b[0].width,Z=b[0].height,m=b[0].duration,A=1;A<b.length;A++)m+=b[A].duration;return{duration:m,width:B,height:Z}}function g(b){for(var B=[];b>0;)B.push(b&255),b=b>>8;return new Uint8Array(B.reverse())}function L(b){return new Uint8Array(b.split("").map(function(B){return B.charCodeAt(0)}))}function U(b){var B=[],Z=b.length%8?new Array(9-b.length%8).join("0"):"";b=Z+b;for(var m=0;m<b.length;m+=8)B.push(parseInt(b.substr(m,8),2));return new Uint8Array(B)}function F(b){for(var B=[],Z=0;Z<b.length;Z++){var m=b[Z].data;typeof m=="object"&&(m=F(m)),typeof m=="number"&&(m=U(m.toString(2))),typeof m=="string"&&(m=L(m));var A=m.size||m.byteLength||m.length,J=Math.ceil(Math.ceil(Math.log(A)/Math.log(2))/8),te=A.toString(2),ue=new Array(J*7+7+1-te.length).join("0")+te,ie=new Array(J).join("0")+"1"+ue;B.push(g(b[Z].id)),B.push(U(ie)),B.push(m)}return new Blob(B,{type:"video/webm"})}function q(b){var B=0;if(B|=128,b.trackNum>127)throw"TrackNumber > 127 not supported";var Z=[b.trackNum|128,b.timecode>>8,b.timecode&255,B].map(function(m){return String.fromCharCode(m)}).join("")+b.frame;return Z}function W(b){for(var B=b.RIFF[0].WEBP[0],Z=B.indexOf("*"),m=0,A=[];m<4;m++)A[m]=B.charCodeAt(Z+3+m);var J,te,ue;return ue=A[1]<<8|A[0],J=ue&16383,ue=A[3]<<8|A[2],te=ue&16383,{width:J,height:te,data:B,riff:b}}function z(b,B){return parseInt(b.substr(B+4,4).split("").map(function(Z){var m=Z.charCodeAt(0).toString(2);return new Array(8-m.length+1).join("0")+m}).join(""),2)}function N(b){for(var B=0,Z={};B<b.length;){var m=b.substr(B,4),A=z(b,B),J=b.substr(B+4+4,A);B+=8+A,Z[m]=Z[m]||[],m==="RIFF"||m==="LIST"?Z[m].push(N(J)):Z[m].push(J)}return Z}function H(b){return[].slice.call(new Uint8Array(new Float64Array([b]).buffer),0).map(function(B){return String.fromCharCode(B)}).reverse().join("")}var Q=new w(y.map(function(b){var B=W(N(atob(b.image.slice(23))));return B.duration=b.duration,B}));postMessage(Q)}return p.prototype.compile=function(y){var w=i(c);w.onmessage=function(x){if(x.data.error){console.error(x.data.error);return}y(x.data)},w.postMessage(this.frames)},{Video:p}}();typeof t<"u"&&(t.Whammy=se);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var ce={init:function(){var p=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var i=1,c=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),y,w=indexedDB.open(c,i);function x(g){g.createObjectStore(p.dataStoreName)}function P(){var g=y.transaction([p.dataStoreName],"readwrite");p.videoBlob&&g.objectStore(p.dataStoreName).put(p.videoBlob,"videoBlob"),p.gifBlob&&g.objectStore(p.dataStoreName).put(p.gifBlob,"gifBlob"),p.audioBlob&&g.objectStore(p.dataStoreName).put(p.audioBlob,"audioBlob");function L(U){g.objectStore(p.dataStoreName).get(U).onsuccess=function(F){p.callback&&p.callback(F.target.result,U)}}L("audioBlob"),L("videoBlob"),L("gifBlob")}w.onerror=p.onError,w.onsuccess=function(){if(y=w.result,y.onerror=p.onError,y.setVersion)if(y.version!==i){var g=y.setVersion(i);g.onsuccess=function(){x(y),P()}}else P();else P()},w.onupgradeneeded=function(g){x(g.target.result)}},Fetch:function(p){return this.callback=p,this.init(),this},Store:function(p){return this.audioBlob=p.audioBlob,this.videoBlob=p.videoBlob,this.gifBlob=p.gifBlob,this.init(),this},onError:function(p){console.error(JSON.stringify(p,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof t<"u"&&(t.DiskStorage=ce);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function ve(p,i){if(typeof GIFEncoder>"u"){var c=document.createElement("script");c.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(c)}i=i||{};var y=p instanceof CanvasRenderingContext2D||p instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(z.record,1e3);return}if(!L){setTimeout(z.record,1e3);return}y||(i.width||(i.width=U.offsetWidth||320),i.height||(i.height=U.offsetHeight||240),i.video||(i.video={width:i.width,height:i.height}),i.canvas||(i.canvas={width:i.width,height:i.height}),P.width=i.canvas.width||320,P.height=i.canvas.height||240,U.width=i.video.width||320,U.height=i.video.height||240),W=new GIFEncoder,W.setRepeat(0),W.setDelay(i.frameRate||200),W.setQuality(i.quality||10),W.start(),typeof i.onGifRecordingStarted=="function"&&i.onGifRecordingStarted();function N(H){if(z.clearedRecordedData!==!0){if(w)return setTimeout(function(){N(H)},100);F=s(N),typeof q===void 0&&(q=H),!(H-q<90)&&(!y&&U.paused&&U.play(),y||g.drawImage(U,0,0,P.width,P.height),i.onGifPreview&&i.onGifPreview(P.toDataURL("image/png")),W.addFrame(g),q=H)}}F=s(N),i.initCallback&&i.initCallback()},this.stop=function(N){N=N||function(){},F&&f(F),this.blob=new Blob([new Uint8Array(W.stream().bin)],{type:"image/gif"}),N(this.blob),W.stream().bin=[]};var w=!1;this.pause=function(){w=!0},this.resume=function(){w=!1},this.clearRecordedData=function(){z.clearedRecordedData=!0,x()};function x(){W&&(W.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var P=document.createElement("canvas"),g=P.getContext("2d");y&&(p instanceof CanvasRenderingContext2D?(g=p,P=g.canvas):p instanceof HTMLCanvasElement&&(g=p.getContext("2d"),P=p));var L=!0;if(!y){var U=document.createElement("video");U.muted=!0,U.autoplay=!0,U.playsInline=!0,L=!1,U.onloadedmetadata=function(){L=!0},V(p,U),U.play()}var F=null,q,W,z=this}typeof t<"u"&&(t.GifRecorder=ve);function le(p,i){var c="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(m){typeof t<"u"||m&&(typeof window<"u"||typeof me>"u"||(me.navigator={userAgent:c,getUserMedia:function(){}},me.console||(me.console={}),(typeof me.console.log>"u"||typeof me.console.error>"u")&&(me.console.error=me.console.log=me.console.log||function(){console.log(arguments)}),typeof document>"u"&&(m.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var A={getContext:function(){return A},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return A},m.HTMLVideoElement=function(){}),typeof location>"u"&&(m.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(m.screen={width:0,height:0}),typeof U>"u"&&(m.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),m.window=me))})(typeof me<"u"?me:null),i=i||"multi-streams-mixer";var y=[],w=!1,x=document.createElement("canvas"),P=x.getContext("2d");x.style.opacity=0,x.style.position="absolute",x.style.zIndex=-1,x.style.top="-1000em",x.style.left="-1000em",x.className=i,(document.body||document.documentElement).appendChild(x),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var g=this,L=window.AudioContext;typeof L>"u"&&(typeof webkitAudioContext<"u"&&(L=webkitAudioContext),typeof mozAudioContext<"u"&&(L=mozAudioContext));var U=window.URL;typeof U>"u"&&typeof webkitURL<"u"&&(U=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var F=window.MediaStream;typeof F>"u"&&typeof webkitMediaStream<"u"&&(F=webkitMediaStream),typeof F<"u"&&typeof F.prototype.stop>"u"&&(F.prototype.stop=function(){this.getTracks().forEach(function(m){m.stop()})});var q={};typeof L<"u"?q.AudioContext=L:typeof webkitAudioContext<"u"&&(q.AudioContext=webkitAudioContext);function W(m,A){"srcObject"in A?A.srcObject=m:"mozSrcObject"in A?A.mozSrcObject=m:A.srcObject=m}this.startDrawingFrames=function(){z()};function z(){if(!w){var m=y.length,A=!1,J=[];if(y.forEach(function(ue){ue.stream||(ue.stream={}),ue.stream.fullcanvas?A=ue:J.push(ue)}),A)x.width=A.stream.width,x.height=A.stream.height;else if(J.length){x.width=m>1?J[0].width*2:J[0].width;var te=1;(m===3||m===4)&&(te=2),(m===5||m===6)&&(te=3),(m===7||m===8)&&(te=4),(m===9||m===10)&&(te=5),x.height=J[0].height*te}else x.width=g.width||360,x.height=g.height||240;A&&A instanceof HTMLVideoElement&&N(A),J.forEach(function(ue,ie){N(ue,ie)}),setTimeout(z,g.frameInterval)}}function N(m,A){if(!w){var J=0,te=0,ue=m.width,ie=m.height;A===1&&(J=m.width),A===2&&(te=m.height),A===3&&(J=m.width,te=m.height),A===4&&(te=m.height*2),A===5&&(J=m.width,te=m.height*2),A===6&&(te=m.height*3),A===7&&(J=m.width,te=m.height*3),typeof m.stream.left<"u"&&(J=m.stream.left),typeof m.stream.top<"u"&&(te=m.stream.top),typeof m.stream.width<"u"&&(ue=m.stream.width),typeof m.stream.height<"u"&&(ie=m.stream.height),P.drawImage(m,J,te,ue,ie),typeof m.stream.onRender=="function"&&m.stream.onRender(P,J,te,ue,ie,A)}}function H(){w=!1;var m=Q(),A=b();return A&&A.getTracks().filter(function(J){return J.kind==="audio"}).forEach(function(J){m.addTrack(J)}),p.forEach(function(J){J.fullcanvas}),m}function Q(){Z();var m;"captureStream"in x?m=x.captureStream():"mozCaptureStream"in x?m=x.mozCaptureStream():g.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var A=new F;return m.getTracks().filter(function(J){return J.kind==="video"}).forEach(function(J){A.addTrack(J)}),x.stream=A,A}function b(){q.AudioContextConstructor||(q.AudioContextConstructor=new q.AudioContext),g.audioContext=q.AudioContextConstructor,g.audioSources=[],g.useGainNode===!0&&(g.gainNode=g.audioContext.createGain(),g.gainNode.connect(g.audioContext.destination),g.gainNode.gain.value=0);var m=0;if(p.forEach(function(A){if(A.getTracks().filter(function(te){return te.kind==="audio"}).length){m++;var J=g.audioContext.createMediaStreamSource(A);g.useGainNode===!0&&J.connect(g.gainNode),g.audioSources.push(J)}}),!!m)return g.audioDestination=g.audioContext.createMediaStreamDestination(),g.audioSources.forEach(function(A){A.connect(g.audioDestination)}),g.audioDestination.stream}function B(m){var A=document.createElement("video");return W(m,A),A.className=i,A.muted=!0,A.volume=0,A.width=m.width||g.width||360,A.height=m.height||g.height||240,A.play(),A}this.appendStreams=function(m){if(!m)throw"First parameter is required.";m instanceof Array||(m=[m]),m.forEach(function(A){var J=new F;if(A.getTracks().filter(function(ie){return ie.kind==="video"}).length){var te=B(A);te.stream=A,y.push(te),J.addTrack(A.getTracks().filter(function(ie){return ie.kind==="video"})[0])}if(A.getTracks().filter(function(ie){return ie.kind==="audio"}).length){var ue=g.audioContext.createMediaStreamSource(A);g.audioDestination=g.audioContext.createMediaStreamDestination(),ue.connect(g.audioDestination),J.addTrack(g.audioDestination.stream.getTracks().filter(function(ie){return ie.kind==="audio"})[0])}p.push(J)})},this.releaseStreams=function(){y=[],w=!0,g.gainNode&&(g.gainNode.disconnect(),g.gainNode=null),g.audioSources.length&&(g.audioSources.forEach(function(m){m.disconnect()}),g.audioSources=[]),g.audioDestination&&(g.audioDestination.disconnect(),g.audioDestination=null),g.audioContext&&g.audioContext.close(),g.audioContext=null,P.clearRect(0,0,x.width,x.height),x.stream&&(x.stream.stop(),x.stream=null)},this.resetVideoStreams=function(m){m&&!(m instanceof Array)&&(m=[m]),Z(m)};function Z(m){y=[],m=m||p,m.forEach(function(A){if(A.getTracks().filter(function(te){return te.kind==="video"}).length){var J=B(A);J.stream=A,y.push(J)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=H}typeof t>"u"&&(e.exports=le);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function j(p,i){p=p||[];var c=this,y,w;i=i||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},i.frameInterval||(i.frameInterval=10),i.video||(i.video={}),i.video.width||(i.video.width=360),i.video.height||(i.video.height=240),this.record=function(){y=new le(p,i.elementClass||"multi-streams-mixer"),x().length&&(y.frameInterval=i.frameInterval||10,y.width=i.video.width||360,y.height=i.video.height||240,y.startDrawingFrames()),i.previewStream&&typeof i.previewStream=="function"&&i.previewStream(y.getMixedStream()),w=new K(y.getMixedStream(),i),w.record()};function x(){var P=[];return p.forEach(function(g){M(g,"video").forEach(function(L){P.push(L)})}),P}this.stop=function(P){w&&w.stop(function(g){c.blob=g,P(g),c.clearRecordedData()})},this.pause=function(){w&&w.pause()},this.resume=function(){w&&w.resume()},this.clearRecordedData=function(){w&&(w.clearRecordedData(),w=null),y&&(y.releaseStreams(),y=null)},this.addStreams=function(P){if(!P)throw"First parameter is required.";P instanceof Array||(P=[P]),p.concat(P),!(!w||!y)&&(y.appendStreams(P),i.previewStream&&typeof i.previewStream=="function"&&i.previewStream(y.getMixedStream()))},this.resetVideoStreams=function(P){y&&(P&&!(P instanceof Array)&&(P=[P]),y.resetVideoStreams(P))},this.getMixer=function(){return y},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof t<"u"&&(t.MultiStreamRecorder=j);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function oe(p,i){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof p>"u")throw'First argument "MediaStream" is required.';var c=this;c.recordRTC=new t(p,i),this.startRecording=function(){return new Promise(function(y,w){try{c.recordRTC.startRecording(),y()}catch(x){w(x)}})},this.stopRecording=function(){return new Promise(function(y,w){try{c.recordRTC.stopRecording(function(x){if(c.blob=c.recordRTC.getBlob(),!c.blob||!c.blob.size){w("Empty blob.",c.blob);return}y(x)})}catch(x){w(x)}})},this.pauseRecording=function(){return new Promise(function(y,w){try{c.recordRTC.pauseRecording(),y()}catch(x){w(x)}})},this.resumeRecording=function(){return new Promise(function(y,w){try{c.recordRTC.resumeRecording(),y()}catch(x){w(x)}})},this.getDataURL=function(y){return new Promise(function(w,x){try{c.recordRTC.getDataURL(function(P){w(P)})}catch(P){x(P)}})},this.getBlob=function(){return new Promise(function(y,w){try{y(c.recordRTC.getBlob())}catch(x){w(x)}})},this.getInternalRecorder=function(){return new Promise(function(y,w){try{y(c.recordRTC.getInternalRecorder())}catch(x){w(x)}})},this.reset=function(){return new Promise(function(y,w){try{y(c.recordRTC.reset())}catch(x){w(x)}})},this.destroy=function(){return new Promise(function(y,w){try{y(c.recordRTC.destroy())}catch(x){w(x)}})},this.getState=function(){return new Promise(function(y,w){try{y(c.recordRTC.getState())}catch(x){w(x)}})},this.blob=null,this.version="5.6.2"}typeof t<"u"&&(t.RecordRTCPromisesHandler=oe);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function fe(p,i){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),i=i||{},i.width=i.width||640,i.height=i.height||480,i.frameRate=i.frameRate||30,i.bitrate=i.bitrate||1200,i.realtime=i.realtime||!0;var c;function y(){return new ReadableStream({start:function(U){var F=document.createElement("canvas"),q=document.createElement("video"),W=!0;q.srcObject=p,q.muted=!0,q.height=i.height,q.width=i.width,q.volume=0,q.onplaying=function(){F.width=i.width,F.height=i.height;var z=F.getContext("2d"),N=1e3/i.frameRate,H=setInterval(function(){if(c&&(clearInterval(H),U.close()),W&&(W=!1,i.onVideoProcessStarted&&i.onVideoProcessStarted()),z.drawImage(q,0,0),U._controlledReadableStream.state!=="closed")try{U.enqueue(z.getImageData(0,0,i.width,i.height))}catch{}},N)},q.play()}})}var w;function x(U,F){if(!i.workerPath&&!F){c=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(W){W.arrayBuffer().then(function(z){x(U,z)})});return}if(!i.workerPath&&F instanceof ArrayBuffer){var q=new Blob([F],{type:"text/javascript"});i.workerPath=d.createObjectURL(q)}i.workerPath||console.error("workerPath parameter is missing."),w=new Worker(i.workerPath),w.postMessage(i.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),w.addEventListener("message",function(W){W.data==="READY"?(w.postMessage({width:i.width,height:i.height,bitrate:i.bitrate||1200,timebaseDen:i.frameRate||30,realtime:i.realtime}),y().pipeTo(new WritableStream({write:function(z){if(c){console.error("Got image, but recorder is finished!");return}w.postMessage(z.data.buffer,[z.data.buffer])}}))):W.data&&(P||L.push(W.data))})}this.record=function(){L=[],P=!1,this.blob=null,x(p),typeof i.initCallback=="function"&&i.initCallback()};var P;this.pause=function(){P=!0},this.resume=function(){P=!1};function g(U){if(!w){U&&U();return}w.addEventListener("message",function(F){F.data===null&&(w.terminate(),w=null,U&&U())}),w.postMessage(null)}var L=[];this.stop=function(U){c=!0;var F=this;g(function(){F.blob=new Blob(L,{type:"video/webm"}),U(F.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){L=[],P=!1,this.blob=null},this.blob=null}typeof t<"u"&&(t.WebAssemblyRecorder=fe)})(Bi);var sd=Bi.exports;const Vn=Qi(sd),ud=ge.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #f7f7f7;
  z-index: 1000;
  display: flex;
  flex-direction: column;
`,cd=ge.header`
  background-color: #000000;
  color: white;
  padding: 1rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  justify-content: space-between;
`,ld=ge.div`
  display: flex;
  align-items: center;
  flex: 1;
`,dd=ge.img`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 10px;
`,fd=ge.span`
  font-weight: bold;
  margin-left: 10px;
`,pd=ge.div`
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
  display: flex;
  flex-direction: column;
`,Ni=ge.div`
  max-width: 70%;
  padding: 10px;
  border-radius: 20px;
  background-color: ${e=>e.$isSentByCurrentUser?"rgb(192, 132, 237)":"#ffffff"};
  color: ${e=>e.$isSentByCurrentUser?"#ffffff":"#000000"};
  align-self: ${e=>e.$isSentByCurrentUser?"flex-end":"flex-start"};
  margin-bottom: 10px;
  position: relative;
`,Gn=ge.p`
  margin: 0;
  white-space: pre-wrap;
`,qn=ge.span`
  font-size: 0.8em;
  color: #666;
  display: block;
  text-align: right;
  margin-top: 5px;
`,vd=ge.div`
  padding: 1rem;
  background-color: white;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
  display: flex;
  align-items: center;
`,hd=ge(sa)`
  flex: 1;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 20px;
  margin-right: 10px;
`,md=ge.div`
  font-size: 0.8em;
  color: #666;
  padding: 5px 10px;
  position: absolute;
  bottom: 60px;
  left: 20px;
`,gd=ge.div`
  display: flex;
  flex-direction: column;
  align-items: ${e=>e.$isSentByCurrentUser?"flex-end":"flex-start"};
  margin-bottom: 10px;
`,bd=ge(Ni)`
  background-color: #f0f0f0;
  color: #000000;
  font-style: italic;
`,yd=ge.span`
  color: #999999;
  font-size: 0.8em;
  margin-left: 5px;
`,wd=ge(ua)`
  background-color: #1a5f7a;
  border-radius: 8px;
  padding: 8px;
`,Yn=ge(Qt)`
  width: 100%;
  justify-content: flex-start;
  color: white;
  &.edit {
    background-color: #f5f6ff;
  }
  &.delete {
    background-color: #fb4444;
  }
`,xd=ge.div`
  font-size: 0.7em;
  color: #999;
  text-align: right;
  margin-top: 2px;
`,Cd=ge.img`
  width: 12px;
  height: 12px;
  border-radius: 50%;
  margin-left: 5px;
`,Rd=ge.div`
  text-align: center;
  margin: 10px 0;
  color: #999;
  font-size: 0.9em;
`,Sd=ge.div`
  display: flex;
  align-items: center;
  background-color: #f0f0f0;
  border-radius: 20px;
  padding: 5px 10px;
`,kd=ge.div`
  display: flex;
  align-items: center;
  background-color: #f0f0f0;
  border-radius: 20px;
  padding: 10px;
  margin-top: 10px;
`,Sr=ge(li)`
  color: ${e=>e.color||"inherit"};
`,Ed=ge(ca)`
  position: absolute;
  top: 0;
  left: -10px;
  background-color: red;
  color: white;
  border-radius: 50%;
  padding: 4px 8px;
  font-size: 12px;
`,Td=6e4,Ad=({currentUser:e,otherUser:t,isOpen:r,onClose:n})=>{const[o,a]=l.useState([]),[s,u]=l.useState(""),[f,v]=l.useState(!0),[d,h]=l.useState(1),[C,S]=l.useState(!0),[T,R]=l.useState(null),[k,O]=l.useState(!1),[I,_]=l.useState(null),[M,V]=l.useState(!1),[G,Y]=l.useState(null),[ee,K]=l.useState(null),[X,ne]=l.useState(0),[de,se]=l.useState(!1),[ce,ve]=l.useState(!1),[le,j]=l.useState(!1),oe=ea(),fe=l.useRef(null),p=l.useRef(null),i=l.useRef(null),c=ta(),y=l.useRef(null),w=l.useRef(null),[x,P]=l.useState(null),g=l.useCallback(async($=1)=>{if(!e||!t){console.error("Current user or other user is not defined");return}try{v(!0);const D=await qe.get(`/api/messages/${t._id}`,{params:{page:$,limit:15}});if(D.data&&Array.isArray(D.data.messages)){const{messages:ae,hasMore:re,isBlocked:he}=D.data;a(pe=>{const ye=Array.isArray(ae)?ae.filter(Pe=>Pe&&Pe.createdAt&&!isNaN(new Date(Pe.createdAt).getTime())):[];return $===1?ye:[...pe,...ye]}),S(re),h(pe=>pe+1),ve(he)}else a([]),S(!1)}catch(D){D.response&&D.response.status===404?(console.log("No existing conversation found. Ready to start a new one."),a([]),S(!1)):(console.error("Error fetching messages:",D),oe({title:"Error",description:"Failed to load messages. Please try again.",status:"error",duration:3e3,isClosable:!0}))}finally{v(!1)}},[e,t,oe]),L=l.useCallback(async()=>{try{const $=await qe.get(`/api/users/blockStatus/${t._id}`),{isBlocked:D,isBlockedBy:ae}=$.data;ve(D),j(ae)}catch($){console.error("Error checking block status:",$)}},[t._id]);l.useEffect(()=>{L()},[L]),l.useEffect(()=>{r&&e&&t&&(a([]),h(1),S(!0),g(1)),u("")},[r,e,t,g]),l.useEffect(()=>{if(c){const $=re=>{(re.sender._id===t._id||re.sender._id===e.id)&&(a(he=>[...he,re]),U(),re.sender._id===t._id&&ne(he=>he+1))},D=re=>{a(he=>he.map(pe=>pe._id===re._id?re:pe))},ae=re=>{a(he=>he.map(pe=>pe._id===re._id?re:pe))};return c.on("new message",$),c.on("message edited",D),c.on("message deleted",ae),()=>{c.off("new message",$),c.off("message edited",D),c.off("message deleted",ae)}}},[c,e.id,t._id]);const U=()=>{fe.current&&(fe.current.scrollTop=fe.current.scrollHeight)};l.useEffect(()=>{if(o.length>0&&c&&c.connected){const $=o.filter(D=>D.recipient===e.id&&!D.seen).map(D=>D._id);$.length>0&&c.emit("mark as seen",$,(D,ae)=>{D?console.error("Error marking messages as seen:",D):(console.log(`${ae} messages marked as seen`),ne(0))})}},[o,e.id,c]),l.useEffect(()=>{if(c)return c.on("user typing",$=>{$===t._id&&O(!0)}),c.on("user stop typing",$=>{$===t._id&&O(!1)}),()=>{c.off("user typing"),c.off("user stop typing")}},[c,t._id]);const F=l.useCallback(async()=>{if(ce){oe({title:"Error",description:"You cannot send messages in a blocked conversation.",status:"error",duration:3e3,isClosable:!0});return}if(!(!s.trim()&&!T&&!G)){if(!c||!c.connected){oe({title:"Error",description:"Not connected to chat server. Please try again.",status:"error",duration:3e3,isClosable:!0});return}try{let $=null,D="text";if(T)if(T.type.startsWith("image/")){const re=new FormData;re.append("file",T),$=(await qe.post("/api/messages/upload",re)).data.url,D="image"}else{oe({title:"Error",description:"Only photos are allowed.",status:"error",duration:3e3,isClosable:!0});return}else if(G){const re=new FormData;re.append("file",G,"voice_message.webm"),$=(await qe.post("/api/messages/upload",re)).data.url,D="voice"}const ae={sender:e.id,recipient:t._id,content:s.trim(),media:$,type:D};c.emit("private message",ae,(re,he)=>{re?(console.error("Error sending message:",re),oe({title:"Error",description:re.message||"Failed to send message. Please try again.",status:"error",duration:3e3,isClosable:!0})):(a(pe=>[...pe,he]),u(""),R(null),Y(null),K(null),U())})}catch($){console.error("Error handling message:",$),oe({title:"Error",description:"An unexpected error occurred. Please try again.",status:"error",duration:3e3,isClosable:!0})}}},[ce,s,T,G,t._id,e.id,c,oe,U]),q=$=>{u($.target.value),c&&c.connected&&(c.emit("typing",{recipientId:t._id}),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{c.emit("stop typing",{recipientId:t._id})},3e3))},W=$=>{R($.target.files[0])},z=$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),F())},N=async $=>{try{if(!c||!c.connected)throw new Error("Socket connection not established");c.emit("delete message",$,(D,ae)=>{D?(console.error("Error deleting message:",D),oe({title:"Error",description:"Failed to unsend message. Please try again.",status:"error",duration:3e3,isClosable:!0})):(a(re=>re.map(he=>he._id===ae._id?ae:he)),oe({title:"Message unsent",status:"success",duration:3e3,isClosable:!0}))})}catch(D){console.error("Error deleting message:",D),oe({title:"Error",description:"Failed to unsend message. Please try again.",status:"error",duration:3e3,isClosable:!0})}},H=($,D)=>{_($),u(D),p.current.focus()},Q=l.useCallback($=>{if(!$)return console.warn("Empty timestamp provided to formatMessageTime"),"";try{const D=dn($);return isNaN(D.getTime())?(console.warn("Invalid date:",$),""):la(D)?kt(D,"h:mm a"):da(D)?`Yesterday ${kt(D,"h:mm a")}`:fa(D)?kt(D,"EEEE h:mm a"):kt(D,"dd.MM.yyyy h:mm a")}catch(D){return console.error("Error formatting message time:",D),""}},[]),b=async()=>{try{const $=await navigator.mediaDevices.getUserMedia({audio:!0}),D=Vn($,{type:"audio",mimeType:"audio/webm",sampleRate:44100,desiredSampRate:16e3,recorderType:Vn.StereoAudioRecorder,numberOfAudioChannels:1});D.startRecording(),P(D),V(!0),w.current=setTimeout(()=>{M&&B()},Td)}catch($){console.error("Error starting recording:",$),oe({title:"Error",description:"Failed to start recording. Please check your microphone permissions.",status:"error",duration:3e3,isClosable:!0})}},B=()=>{x&&x.stopRecording(()=>{const $=x.getBlob();Y($),K(URL.createObjectURL($)),V(!1)}),w.current&&clearTimeout(w.current)},Z=()=>{Y(null),K(null)},m=async()=>{if(G)try{const $=new FormData;$.append("audio",G,"voice_message.webm"),$.append("recipient",t._id);const ae=(await qe.post("/api/messages/voice",$,{headers:{"Content-Type":"multipart/form-data"}})).data;a(re=>[...re,ae]),Y(null),K(null),U()}catch($){console.error("Error sending voice message:",$),oe({title:"Error",description:"Failed to send voice message. Please try again.",status:"error",duration:3e3,isClosable:!0})}},A=async()=>{var $,D;try{const he=(await qe.get("/api/messages/conversations")).data.find(pe=>pe.participants.some(ye=>ye._id===t._id));if(!he)throw new Error("Conversation not found");await qe.delete(`/api/messages/conversations/${he._id}`),oe({title:"Conversation deleted",description:"The conversation has been successfully deleted.",status:"success",duration:3e3,isClosable:!0}),n()}catch(ae){console.error("Error deleting conversation:",ae),oe({title:"Error",description:((D=($=ae.response)==null?void 0:$.data)==null?void 0:D.message)||"Failed to delete conversation. Please try again.",status:"error",duration:5e3,isClosable:!0})}},J=async()=>{se(!0)},te=async()=>{var $,D;try{await qe.post(`/api/users/block/${t._id}`),oe({title:"User blocked",description:`${t.username} has been blocked successfully.`,status:"success",duration:3e3,isClosable:!0}),se(!1),n()}catch(ae){console.error("Error blocking user:",ae),oe({title:"Error",description:((D=($=ae.response)==null?void 0:$.data)==null?void 0:D.message)||"Failed to block user. Please try again.",status:"error",duration:3e3,isClosable:!0})}},ue=async()=>{var $,D,ae;try{await qe.post("/api/reports/create",{reportedUserId:t._id,conversationId:($=o[0])==null?void 0:$.conversationId,reason:"Inappropriate content"}),oe({title:"Conversation reported",status:"success",duration:3e3,isClosable:!0})}catch(re){console.error("Error reporting conversation:",re),oe({title:"Error",description:((ae=(D=re.response)==null?void 0:D.data)==null?void 0:ae.message)||"Failed to report conversation. Please try again.",status:"error",duration:3e3,isClosable:!0})}},ie=()=>{let $=null;return o.slice().reverse().map((D,ae)=>{if(!D||!D.createdAt)return console.warn("Invalid message or missing createdAt:",D),null;let re;try{if(re=dn(D.createdAt),isNaN(re.getTime()))return console.warn("Invalid date:",D.createdAt),null}catch(ye){return console.error("Error parsing date:",ye),null}const he=!$||!pa(re,$);$=re;const pe=D.sender._id===e.id;return E.jsxs(pt.Fragment,{children:[he&&E.jsx(Rd,{children:kt(re,"MMMM d, yyyy")}),E.jsx(gd,{$isSentByCurrentUser:pe,children:D.deleted?E.jsxs(bd,{children:[E.jsx(Gn,{children:"This message was unsent."}),E.jsx(qn,{children:D.createdAt?Q(D.createdAt):""})]}):E.jsxs(Pi,{placement:"top",trigger:"click",children:[E.jsx(Ai,{children:E.jsxs(Ni,{$isSentByCurrentUser:pe,children:[D.type==="image"&&E.jsx("img",{src:D.media,alt:"Uploaded media",style:{maxWidth:"100%",marginBottom:"10px",borderRadius:"10px"}}),D.type==="voice"&&E.jsx(Sd,{children:E.jsx("audio",{controls:!0,src:D.media})}),E.jsx(Gn,{children:D.content}),D.edited&&E.jsx(yd,{children:"edited"}),E.jsx(qn,{children:D.createdAt?Q(D.createdAt):""}),E.jsxs(xd,{children:[pe&&(D.seen?"Seen":"Sent"),D.seen&&pe&&E.jsx(Cd,{src:t.photo,alt:t.username})]})]})}),pe&&E.jsx(Ii,{children:E.jsx(Di,{children:E.jsxs(wd,{children:[D.type!=="voice"&&E.jsx(Yn,{className:"edit",onClick:()=>H(D._id,D.content),children:"Edit"}),E.jsx(Yn,{className:"delete",onClick:()=>N(D._id),children:"Delete"})]})})})]})})]},`${D._id}-${ae}`)}).filter(Boolean)};return r?E.jsxs(ud,{children:[E.jsxs(cd,{children:[E.jsxs(ld,{children:[E.jsx(Ke,{icon:E.jsx(Jl,{}),"aria-label":"Back",onClick:n,variant:"ghost",colorScheme:"whiteAlpha"}),E.jsx(dd,{src:t.photo,alt:t.username}),E.jsx(fd,{children:t.username}),X>0&&E.jsx(Ed,{children:X})]}),E.jsxs(si,{children:[E.jsx(fi,{as:Ke,"aria-label":"Options",icon:E.jsx(ad,{}),variant:"ghost",colorScheme:"whiteAlpha"}),E.jsxs(di,{children:[E.jsx(Sr,{onClick:A,color:"red.500",children:"Delete Conversation"}),E.jsx(Sr,{onClick:J,color:"orange.500",children:"Block User"}),E.jsx(Sr,{onClick:ue,color:"yellow.500",children:"Report Conversation"})]})]})]}),E.jsxs(pd,{ref:fe,id:"scrollableDiv",children:[E.jsx(td,{dataLength:o.length,next:()=>g(d),hasMore:C,loader:E.jsx(ra,{}),scrollableTarget:"scrollableDiv",inverse:!0,style:{display:"flex",flexDirection:"column-reverse"},children:ie()}),k&&E.jsx(md,{children:"Typing..."})]}),E.jsx(vd,{children:ce?E.jsx(na,{width:"100%",textAlign:"center",py:4,bg:"gray.100",borderRadius:"md",children:E.jsxs(oa,{fontWeight:"bold",children:[ce?"This conversation is blocked.":"The user has blocked you."," You can't send new messages."]})}):E.jsx(E.Fragment,{children:ee?E.jsxs(kd,{children:[E.jsx("audio",{controls:!0,src:ee}),E.jsx(Ke,{icon:E.jsx(Xl,{}),onClick:Z,variant:"ghost","aria-label":"Cancel recording"}),E.jsx(Ke,{icon:E.jsx(ln,{}),onClick:m,colorScheme:"blue","aria-label":"Send voice message"})]}):E.jsxs(E.Fragment,{children:[E.jsx(hd,{placeholder:I?"Edit message...":"Type a message...",value:s,onChange:q,onKeyDown:z,ref:p}),E.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},ref:i,onChange:W}),E.jsx(Ke,{icon:E.jsx(Zl,{}),onClick:()=>i.current.click(),variant:"ghost","aria-label":"Attach file"}),E.jsx(Ke,{icon:M?E.jsx(ia,{}):E.jsx(aa,{}),onClick:M?B:b,variant:"ghost","aria-label":M?"Stop recording":"Start recording",colorScheme:M?"red":"gray"}),E.jsx(Ke,{icon:E.jsx(ln,{}),colorScheme:"purple",onClick:F,"aria-label":"Send message"})]})})}),E.jsxs(mi,{isOpen:de,onClose:()=>se(!1),children:[E.jsx(Ei,{}),E.jsxs(Ri,{children:[E.jsx(ki,{children:"Block User"}),E.jsx(Mi,{}),E.jsxs(Ti,{children:["Are you sure you want to block ",t.username," forever? This action cannot be undone."]}),E.jsxs(Si,{children:[E.jsx(Qt,{colorScheme:"red",mr:3,onClick:te,children:"Yes, Block User"}),E.jsx(Qt,{variant:"ghost",onClick:()=>se(!1),children:"No, Cancel"})]})]})]})]}):null};export{Ad as default};
